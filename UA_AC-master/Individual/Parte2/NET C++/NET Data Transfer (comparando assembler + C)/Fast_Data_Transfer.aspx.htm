<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>CodeProject: Using SSE/SSE2 for optimization. Free source code and programming help</title>





	
	
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="Description" content="A beginner's introduction to one of the optimization methods.; Author: f2; Section: Programming Tips; Chapter: General Programming">
<meta name="Keywords" content="VC6, NT4, Win2K, WinXP, Win2003, VS6, C, Dev, ASM, Intermediate,Programming Tips,General Programming,Free source code, tutorials">
<meta name="Author" content="The Code Project">
<meta name="Rating" content="General">
<meta name="Robots" content="index, follow">
<meta name="Revisit-After" content="1 days">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All topics" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=1">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - MFC / C++" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=2">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C#" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=3">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - ASP.NET" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=4">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - .NET" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=5">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - VB.NET" href="http://www.codeproject.com/webservices/articlerss.aspx?cat=6">
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="http://www.codeproject.com/webservices/LoungeRSS.aspx">
<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="http://www.codeproject.com/info/OpenSearch.xml">
	<link rel="stylesheet" type="text/css" href="Fast_Data_Transfer.aspx_files/CodeProject.css">	
	<link rel="stylesheet" type="text/css" href="Fast_Data_Transfer.aspx_files/ForumClassic.css">	
	<!-- base -->
	
<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Fast_Data_Transfer.aspx_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
   var pageTracker = _gat._getTracker("UA-1735123-1");
   pageTracker._setDomainName("www.codeproject.com");
   pageTracker._setSessionTimeout("1200"); // 20 mins
   pageTracker._initData();
   pageTracker._trackPageview();
</script>
	
	<script type="text/javascript" language="Javascript">//<![CDATA[
if(top!=self)top.location.href=location.href; if(typeof(DemoUrl)!="undefined")document.write(unescape('%3Cme')+'ta http'+'-equiv="re' +'fresh" con'+'tent="1;url='+DemoUrl+unescape('"%3CE'));
//]]></script>

<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/oncopy.js"></script>
<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/jxs.js"></script>
<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/bookmark.js"></script>
<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/rateitem.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
function ToggleMenu(itemName)
{
	var elm = document.getElementById(itemName);
	var i,others = document.getElementById('SectionMenu');
	for(i=0; i < others.childNodes.length; i++)
	{
		var other = others.childNodes[i];
		if ((other.className == 'MenuSectionBlock') && (other != elm))
			other.style.display='none';
	}
	if (elm.style.display == 'block') elm.style.display='none';
	else elm.style.display='block';
	return false;
}

//]]></script>

<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/addto.js"></script>
<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/jquery-1.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
function MarkAns(MemberID,MsgID,QID) {
 document.write(unescape("%3Cdiv class=\"CallOut\"%3E"));
 document.write("Was this a good answer to your question? ");
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" "));
 document.write("onclick=\"RateMsg("+MemberID.toString()+", "+MsgID.toString()+",6,"+QID.toString()+");\"");
 document.write(unescape("%3E"));
 document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/good.png\" alt=\"correct\" border=\"0\" align=\"absmiddle\" /%3E Yes%3C/a%3E"));
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" "));
 document.write("onclick=\"RateMsg("+MemberID.toString()+","+MsgID.toString()+",7,"+QID.toString()+");\"");
 document.write(unescape("%3E"));
 document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/bad.png\" alt=\"correct\" style=\"margin-left:10px\" border=\"0\" align=\"absmiddle\" /%3E No%3C/a%3E"));
 document.write(unescape("%3C/div%3E"));
}
function MsgVFrm(MemberID,MsgID,GB,gp,bp,mt){
 if(!GB)document.write("Rate this message: ");
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ","));document.write((GB?"5":"1")+unescape(",0);\"%3E"));
 if(GB) document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/good.png\" alt=\"good\" border=\"0\" align=\"absmiddle\" /%3E "+gp+" "+mt+"%3C/a%3E "));
 else document.write(unescape("%3Cimg height=\"14\" width=\"14\" src=\"/script/Forums/Images/thumbs_down.gif\" alt=\"vote 1\" border=\"0\" align=\"middle\" /%3E%3C/a%3E "));
 if(GB)document.write(" &nbsp;"); else for(var i=1; i<=5;i++)
  document.write(unescape("%3Ca class=\"Frm_MHL\" href=\"#xx" + MsgID.toString() + "xx\" title=\"vote this message a " + i.toString() + "\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ", " + i.toString() + ",0)\"%3E%3Cb%3E" + i.toString() + "%3C/b%3E%3C/a%3E "));
 document.write(unescape("%3Ca href=\"#xx" + MsgID.toString() + "xx\" onclick=\"RateMsg(" + MemberID.toString() + ", " + MsgID.toString() + ","));document.write((GB?"1":"5")+unescape(",0);\"%3E"));
 if(GB)document.write(unescape("%3Cimg height=\"20\" width=\"20\" src=\"/script/Forums/Images/bad.png\" alt=\"bad\" border=\"0\" align=\"absmiddle\" /%3E "+bp+" "+mt+"%3C/a%3E"));
 else document.write(unescape("%3Cimg height=\"14\" width=\"14\" src=\"/script/Forums/Images/thumbs_up.gif\" border=\"0\" alt=\"vote 5\" align=\"middle\" /%3E%3C/a%3E "));
}

function ReportMsg(userid, msgid, score) {
 if (confirm("Are you sure you want to report this message?"))
  return RateMsg(userid, msgid, score, 0);
 else return false;
}
function RateMsg(memberid, msgid, score, questionId) {
 var req = new XMLHttpRequest();
 req.onreadystatechange = function() {
  if (req.readyState == 4){
   if (req.status == 200){
    var respText = req.responseText;
    var re = new RegExp(unescape("\%3Cdiv\%3E([^\%3C]*)\%3C/div\%3E"), "g");
    var match = re.exec(respText);
    voteStatus.innerHTML = unescape("%3Cb%3E") + (match&&match[1])?match[1]:"An error occured" + unescape("%3C/b%3E");
   } else
    voteStatus.innerHTML = unescape("%3Cb style='color:red'%3EFailed!") + req.statusText + unescape("%3C/b%3E");
  }
 }
 var voteStatus = document.getElementById("MVF" + msgid);
 if (!voteStatus) return;
 voteStatus.innerHTML = unescape("%3Cb style='color:green'%3EVoting...%3C/b%3E");
 var strAction = "/script/Forums/Vote.aspx?js=1&fmid="+memberid.toString()+"&select="+msgid.toString()+"&score="+score.toString()+"&qid="+questionId.toString();
 req.open("GET", strAction, true);
 req.send(null);
  return false;
}
//]]></script>

<script type="text/javascript" language="Javascript">//<![CDATA[
var Selected = "-1";

function SwitchMessage(e, msgId)
{
  if (!msgId) {
    if(!e)e=window.event;
    var target=e.target?e.target:e.srcElement;
    while(target&&target.id!='DynMessLink')target=target.parentNode;
    if(!target||target.id!='DynMessLink')return;
    msgId=target.name;
  }
  if(Selected&&Selected!=""){
    var body=eval("document.getElementById('F" + Selected + "_h1')");
    if(body) body.style.display = 'none';
    var head=eval("document.getElementById('F" + Selected + "_h0')");
    if(head) head.className = head.className.replace("Sel", "UnSel");
  }
  if(Selected==msgId.toString())
    Selected="";
  else {
    Selected=msgId.toString();
    var body=eval("document.getElementById('F" + Selected + "_h1')");
    if(body){
      if(body.style.display=='none') body.style.display='';
      else body.style.display = 'none';
    }
    var head=eval("document.getElementById('F" + Selected + "_h0')");
    if (head) 
      head.className = head.className.replace("UnSel", "Sel");
    if(body&&head&&body.style.display!='none'){
      document.body.scrollTop = getRealPos(head, "Top") - document.body.clientHeight/10;
      EnsureMessageVisible(Selected, true);
    }
  }
  if (e){if(e.preventDefault)e.preventDefault;else e.returnValue=false;}
  return false;
}

//]]></script>

<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/ShortCuts.js"></script>
<link rel="icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="shortcut icon" href="http://www.codeproject.com/favicon.ico" type="image/ico"></head><body style="background-color: rgb(255, 255, 255);">

<table id="ctl00_AT" border="0" cellpadding="0" cellspacing="0">
	<tbody><tr valign="top">
		<td colspan="2">
	<table border="0" cellpadding="0" cellspacing="0">
	<tbody><tr>
		<td class="HeaderLogo"><a href="http://www.codeproject.com/"><img id="ctl00_Logo" src="Fast_Data_Transfer.aspx_files/logo225x90.gif" alt="The Code Project" style="border-width: 0px; height: 90px; width: 225px;"></a></td>				 
		<td class="HeaderBanner" align="right" width="100%">
		<script type="text/javascript">document.write(unescape("%3ca%20href%3d%22http%3a%2f%2fwww.codeproject.com%2fRedir.aspx%3fadid%3d5301%26way%3dban%22%20target%3d%22_blank%22%20rel%3d%22nofollow%22%3e%3cimg%20src%3d%22http%3a%2f%2fwww.codeproject.com%2fscript%2fAdm%2fServeImg.aspx%3fFile%3d%252fscript%252fadmentor%252fimages%252fIBMdeveloperWorks_728x90.gif%26C%3dFalse%26adid%3d5301%22%20alt%3d%22%22%20border%3d%220%22%20width%3d%22728%22%20height%3d%2290%22%3e%3c%2fa%3e"));</script><a href="http://www.codeproject.com/Redir.aspx?adid=5301&amp;way=ban" target="_blank" rel="nofollow"><img src="Fast_Data_Transfer.aspx_files/ServeImg_002.htm" alt="" border="0" height="90" width="728"></a></td>
	</tr>
	<tr><td colspan="2">

<table class="MemberNavBar" cellpadding="5" cellspacing="0" width="100%">
<tbody><tr>
<td class="SmallText" style="font-weight: bold;">5,565,363 members and growing! (17,242 online)</td>
<td align="right">

<div id="ctl00_MemberMenu_LoggedOnOptions" class="MemberNavBarText">
			
<a id="ctl00_MemberMenu_MyProfile" href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=5573597">mda2008</a> | 
<a id="ctl00_MemberMenu_MySettings" href="http://www.codeproject.com/script/Membership/Modify.aspx">My Settings</a> |
<a id="ctl00_MemberMenu_MyCodeProject" href="http://www.codeproject.com/script/Membership/MyCodeProject.aspx"><b>My CodeProject</b></a> |
<a id="ctl00_MemberMenu_MyBookmarks" href="http://www.codeproject.com/script/Bookmarks/List.aspx?obtid=2"><img src="Fast_Data_Transfer.aspx_files/fave.gif" align="absmiddle" border="0" height="16" width="16"> My Bookmarks</a> |
<a id="ctl00_MemberMenu_MyArticles" href="http://www.codeproject.com/script/Articles/MemberArticles.aspx?amid=5573597">My Articles</a> |

<a id="ctl00_MemberMenu_Signout" href="http://www.codeproject.com/script/Membership/LogOff.aspx?rp=%2fKB%2ftips%2fFast_Data_Transfer.aspx">Sign out</a>

		</div>



</td>
</tr>
</tbody></table></td></tr>
	<tr><td colspan="2">
<table class="SiteNavBar" id="tblSiteToolbar" cellpadding="0" cellspacing="0">
<tbody><tr>

<td nowrap="nowrap"><a href="http://www.codeproject.com/">Home</a></td><td> &nbsp; </td><td style="font-weight: normal;" align="right" nowrap="nowrap">Current Site:</td><td class="SelCat" nowrap="nowrap"><a href="http://www.codeproject.com/">C++ / .NET</a></td>
<td nowrap="nowrap"><a href="http://java.codeproject.com/">Java</a></td>
<td nowrap="nowrap"><a href="http://sql.codeproject.com/">SQL</a></td>
<td nowrap="nowrap"><a href="http://lamp.codeproject.com/">Linux / Unix</a></td>

<td width="100%">&nbsp;</td>
<td id="ctl00_TopNavBar_RightMenus">
	<div id="MenuPos" style="position: relative; width: 380px; height: 22px; top: 1px;">
	<table style="border-width: 0px; height: 20px;" cellpadding="0" cellspacing="0" width="380">
	<tbody><tr valign="middle">
	<td style="border-width: 0pt;" nowrap="nowrap"><a href="http://www.codeproject.com/info/FAQ.aspx">Help!</a></td>
<td style="border-width: 0pt;" nowrap="nowrap"><a href="http://www.codeproject.com/script/Articles/Latest.aspx">Articles</a></td>
<td style="border-width: 0pt;" nowrap="nowrap"><a href="http://www.codeproject.com/script/Forums/List.aspx">Message Boards</a></td>
<td style="border-width: 0pt;" nowrap="nowrap"><a href="http://www.codeproject.com/script/Jobs/List.aspx">Job Board</a></td>
<td style="border-width: 0pt;" nowrap="nowrap"><a href="http://www.codeproject.com/Lounge.aspx">Lounge</a></td>

	</tr>
	</tbody></table>
	</div>
</td>
		
</tr>

</tbody></table>
</td></tr>
	</tbody></table>
</td>
	</tr>
	<tr>
		<td colspan="2" valign="top">
		<a name="_top"></a>
		<table id="ctl00_ArticleTopHeader_HeaderTable" class="ArticleHeader" border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr valign="top">
				<td class="SmallText">
	<a id="ctl00_ArticleTopHeader_ChapterLink" href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=6">General Programming</a> »
	<a id="ctl00_ArticleTopHeader_SectionLink" href="http://www.codeproject.com/KB/tips/">Programming Tips</a> »
	<a id="ctl00_ArticleTopHeader_SubsectionLink" href="http://www.codeproject.com/KB/tips/index.aspx?#Programming%20Tips%20-%20General">General</a>
	<span id="ctl00_ArticleTopHeader_SkillLevel" class="ArticleIntermediate">&nbsp;&nbsp;&nbsp; Intermediate</span> <span id="ctl00_ArticleTopHeader_LicenceTerms"></span>
	<br><br>
	<h1><span id="ctl00_ArticleTopHeader_ArticleTitle" class="ArticleTopTitle">Using SSE/SSE2 for optimization</span></h1>
	<b>By <a href="http://www.codeproject.com/script/Articles/MemberArticles.aspx?amid=191662">f2</a></b><br><br>
    <span id="ctl00_ArticleTopHeader_ArticleDescr" class="ArticleTopDescr">A beginner's introduction to one of the optimization methods.</span>	
</td>
				<td class="SmallText" style="width: 210px;">
	<span id="ctl00_ArticleTopHeader_ArticleAttributes">C, ASM, VC6, C++Windows, NT4, Win2K, WinXP, Win2003VS6, Visual Studio, Dev</span><br><br>
	<span style="width: 14ex;">Posted</span>: <b>3 Oct 2004</b><br>
	<span style="width: 14ex;">Updated</span>: <b>3 Oct 2004</b>
	<br>
	<span style="width: 14ex;">Views</span>: <b>55,013</b><br>
	
	    <span style="width: 14ex;">Bookmarked</span>: <b>23 times</b><br>
	    
	
</td>
			</tr>
			<tr>
				<td colspan="2">
	<table width="100%">
	<tbody><tr>
	<td></td>
	<td style="white-space: nowrap;" class="SmallText" align="right">
	</td>
	</tr>
	</tbody></table>
</td>
			</tr>
		</tbody></table>
		

	</td>
	</tr>
	<tr valign="top">
		<td id="ctl00_LeftNavCell" class="LHNavBar">
	

<div class="FeatureBlockHeader">Announcements</div>
<div class="FeatureBlockContent RHFeatureBar" style="margin: 0pt; padding: 0pt;">
<table cellpadding="2">




			


<tbody><tr valign="middle"><td><img src="Fast_Data_Transfer.aspx_files/MonthlyComp.png" alt="Comp" align="middle" height="24" width="24"></td>
<td><a id="ctl00_Announcements_CompLink" href="http://www.codeproject.com/Feature/ArticleCompetition/">Monthly Competition</a></td></tr>

</tbody></table>
</div>
	
	
	<div class="FeatureBlockHeader" style="margin-top: 7px;">Want a new Job?</div>
	<div class="FeatureBlockContent RHFeatureBar">
	<ul class="InfoList"><li><a href="http://www.codeproject.com/script/Jobs/View.aspx?jid=143">C#/ ASP.NET Developer</a> at LiveOffice in United States</li><li><a href="http://www.codeproject.com/script/Jobs/View.aspx?jid=164">SharePoint.NET Developer</a> at IEM in United States</li><li><a href="http://www.codeproject.com/script/Jobs/View.aspx?jid=263">SharePoint Developer</a> at Undisclosed in United States</li><li><a href="http://www.codeproject.com/script/Jobs/List.aspx">View Latest Jobs...</a></li></ul>
	</div>
	
	
	
	<div id="SectionMenu">
<div class="MenuCat">Chapters</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=1" onclick="return ToggleMenu('Chapter1');">Desktop Development</a></div>
<div class="MenuSectionBlock" id="Chapter1" style="display: none;">
<div class="MI" id="Section1"><a href="http://www.codeproject.com/KB/buttons/">Button Controls</a></div>
<div class="MI" id="Section15"><a href="http://www.codeproject.com/KB/clipboard/">Clipboard</a></div>
<div class="MI" id="Section2"><a href="http://www.codeproject.com/KB/combobox/">Combo &amp; List Boxes</a></div>
<div class="MI" id="Section67"><a href="http://www.codeproject.com/KB/dialog/">Dialogs and Windows</a></div>
<div class="MI" id="Section107"><a href="http://www.codeproject.com/KB/gadgets/">Desktop Gadgets</a></div>
<div class="MI" id="Section16"><a href="http://www.codeproject.com/KB/docview/">Document / View</a></div>
<div class="MI" id="Section4"><a href="http://www.codeproject.com/KB/edit/">Edit Controls</a></div>
<div class="MI" id="Section17"><a href="http://www.codeproject.com/KB/files/">Files and Folders</a></div>
<div class="MI" id="Section3"><a href="http://www.codeproject.com/KB/grid/">Grid &amp; Data Controls</a></div>
<div class="MI" id="Section5"><a href="http://www.codeproject.com/KB/list/">List Controls</a></div>
<div class="MI" id="Section6"><a href="http://www.codeproject.com/KB/menus/">Menus</a></div>
<div class="MI" id="Section14"><a href="http://www.codeproject.com/KB/miscctrl/">Miscellaneous</a></div>
<div class="MI" id="Section18"><a href="http://www.codeproject.com/KB/printing/">Printing</a></div>
<div class="MI" id="Section95"><a href="http://www.codeproject.com/KB/progress/">Progress Controls</a></div>
<div class="MI" id="Section11"><a href="http://www.codeproject.com/KB/selection/">Selection Controls</a></div>
<div class="MI" id="Section19"><a href="http://www.codeproject.com/KB/shell/">Shell and IE programming</a></div>
<div class="MI" id="Section68"><a href="http://www.codeproject.com/KB/smart/">Smart Client</a></div>
<div class="MI" id="Section8"><a href="http://www.codeproject.com/KB/splitter/">Splitter Windows</a></div>
<div class="MI" id="Section9"><a href="http://www.codeproject.com/KB/static/">Static &amp; Panel Controls</a></div>
<div class="MI" id="Section10"><a href="http://www.codeproject.com/KB/statusbar/">Status Bar</a></div>
<div class="MI" id="Section7"><a href="http://www.codeproject.com/KB/tabs/">Tabs &amp; Property Pages</a></div>
<div class="MI" id="Section12"><a href="http://www.codeproject.com/KB/toolbars/">Toolbars &amp; Docking windows</a></div>
<div class="MI" id="Section13"><a href="http://www.codeproject.com/KB/tree/">Tree Controls</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=2" onclick="return ToggleMenu('Chapter2');">Web Development</a></div>
<div class="MenuSectionBlock" id="Chapter2" style="display: none;">
<div class="MI" id="Section70"><a href="http://www.codeproject.com/KB/ajax/">Ajax and Atlas</a></div>
<div class="MI" id="Section27"><a href="http://www.codeproject.com/KB/applications/">Applications &amp; Tools</a></div>
<div class="MI" id="Section85"><a href="http://www.codeproject.com/KB/asp/">ASP</a></div>
<div class="MI" id="Section89"><a href="http://www.codeproject.com/KB/aspnet/">ASP.NET</a></div>
<div class="MI" id="Section28"><a href="http://www.codeproject.com/KB/webforms/">ASP.NET Controls</a></div>
<div class="MI" id="Section38"><a href="http://www.codeproject.com/KB/ATL-Server/">ATL Server</a></div>
<div class="MI" id="Section29"><a href="http://www.codeproject.com/KB/web-cache/">Caching</a></div>
<div class="MI" id="Section91"><a href="http://www.codeproject.com/KB/web-image/">Charts, Graphs and Images</a></div>
<div class="MI" id="Section25"><a href="http://www.codeproject.com/KB/scripting/">Client side scripting</a></div>
<div class="MI" id="Section30"><a href="http://www.codeproject.com/KB/custom-controls/">Custom Controls</a></div>
<div class="MI" id="Section23"><a href="http://www.codeproject.com/KB/HTML/">HTML / CSS</a></div>
<div class="MI" id="Section24"><a href="http://www.codeproject.com/KB/ISAPI/">ISAPI</a></div>
<div class="MI" id="Section33"><a href="http://www.codeproject.com/KB/server-management/">Site &amp; Server Management</a></div>
<div class="MI" id="Section34"><a href="http://www.codeproject.com/KB/session/">Session State</a></div>
<div class="MI" id="Section113"><a href="http://www.codeproject.com/KB/silverlight/">Silverlight</a></div>
<div class="MI" id="Section36"><a href="http://www.codeproject.com/KB/trace/">Trace and Logs</a></div>
<div class="MI" id="Section31"><a href="http://www.codeproject.com/KB/user-controls/">User Controls</a></div>
<div class="MI" id="Section37"><a href="http://www.codeproject.com/KB/validation/">Validation</a></div>
<div class="MI" id="Section35"><a href="http://www.codeproject.com/KB/viewstate/">View State</a></div>
<div class="MI" id="Section26"><a href="http://www.codeproject.com/KB/WAP/">WAP / WML</a></div>
<div class="MI" id="Section32"><a href="http://www.codeproject.com/KB/web-security/">Web Security</a></div>
<div class="MI" id="Section20"><a href="http://www.codeproject.com/KB/webservices/">Web Services</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=9" onclick="return ToggleMenu('Chapter9');">Enterprise Systems</a></div>
<div class="MenuSectionBlock" id="Chapter9" style="display: none;">
<div class="MI" id="Section98"><a href="http://www.codeproject.com/KB/MCMS/">Content Management Server</a></div>
<div class="MI" id="Section99"><a href="http://www.codeproject.com/KB/biztalk/">Microsoft BizTalk Server</a></div>
<div class="MI" id="Section102"><a href="http://www.codeproject.com/KB/exchange/">Microsoft Exchange</a></div>
<div class="MI" id="Section90"><a href="http://www.codeproject.com/KB/office/">Office Development</a></div>
<div class="MI" id="Section101"><a href="http://www.codeproject.com/KB/sharepoint/">SharePoint Server</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=3" onclick="return ToggleMenu('Chapter3');">Multimedia</a></div>
<div class="MenuSectionBlock" id="Chapter3" style="display: none;">
<div class="MI" id="Section42"><a href="http://www.codeproject.com/KB/audio-video/">Audio and Video</a></div>
<div class="MI" id="Section44"><a href="http://www.codeproject.com/KB/directx/">DirectX</a></div>
<div class="MI" id="Section46"><a href="http://www.codeproject.com/KB/GDI/">GDI</a></div>
<div class="MI" id="Section47"><a href="http://www.codeproject.com/KB/GDI-plus/">GDI+</a></div>
<div class="MI" id="Section43"><a href="http://www.codeproject.com/KB/graphics/">General Graphics</a></div>
<div class="MI" id="Section45"><a href="http://www.codeproject.com/KB/openGL/">OpenGL</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=4" onclick="return ToggleMenu('Chapter4');">Database</a></div>
<div class="MenuSectionBlock" id="Chapter4" style="display: none;">
<div class="MI" id="Section66"><a href="http://www.codeproject.com/KB/database/">Database</a></div>
<div class="MI" id="Section100"><a href="http://www.codeproject.com/KB/reporting-services/">SQL Reporting Services</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=8" onclick="return ToggleMenu('Chapter8');">Platforms, Frameworks &amp; Libraries</a></div>
<div class="MenuSectionBlock" id="Chapter8" style="display: none;">
<div class="MI" id="Section83"><a href="http://www.codeproject.com/KB/atl/">ATL</a></div>
<div class="MI" id="Section117"><a href="http://www.codeproject.com/KB/MFC/">MFC</a></div>
<div class="MI" id="Section88"><a href="http://www.codeproject.com/KB/stl/">STL</a></div>
<div class="MI" id="Section84"><a href="http://www.codeproject.com/KB/wtl/">WTL</a></div>
<div class="MI" id="Section49"><a href="http://www.codeproject.com/KB/COM/">COM / COM+</a></div>
<div class="MI" id="Section76"><a href="http://www.codeproject.com/KB/dotnet/">.NET Framework</a></div>
<div class="MI" id="Section92"><a href="http://www.codeproject.com/KB/winsdk/">Win32/64 SDK &amp; OS</a></div>
<div class="MI" id="Section108"><a href="http://www.codeproject.com/KB/vista/">Vista API</a></div>
<div class="MI" id="Section110"><a href="http://www.codeproject.com/KB/vista-security/">Vista Security</a></div>
<div class="MI" id="Section82"><a href="http://www.codeproject.com/KB/cross-platform/">Cross Platform</a></div>
<div class="MI" id="Section69"><a href="http://www.codeproject.com/KB/game/">Game Development</a></div>
<div class="MI" id="Section73"><a href="http://www.codeproject.com/KB/mobile/">Mobile Development</a></div>
<div class="MI" id="Section106"><a href="http://www.codeproject.cOm/KB/WC/">Windows CardSpace</a></div>
<div class="MI" id="Section103"><a href="http://www.codeproject.com/KB/WCF/">Windows Communication Foundation</a></div>
<div class="MI" id="Section104"><a href="http://www.codeproject.com/KB/WPF/">Windows Presentation Foundation</a></div>
<div class="MI" id="Section105"><a href="http://www.codeproject.com/KB/WF/">Windows Workflow Foundation</a></div>
<div class="MI" id="Section119"><a href="http://www.codeproject.com/KB/library/">Libraries</a></div>
<div class="MI" id="Section122"><a href="http://www.codeproject.com/KB/powershell/">Windows Powershell</a></div>
<div class="MI" id="Section123"><a href="http://www.codeproject.com/KB/linq/">LINQ</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=5" onclick="return ToggleMenu('Chapter5');">Languages</a></div>
<div class="MenuSectionBlock" id="Chapter5" style="display: none;">
<div class="MI" id="Section71"><a href="http://www.codeproject.com/KB/cpp/">C / C++ Language</a></div>
<div class="MI" id="Section72"><a href="http://www.codeproject.com/KB/mcpp/">C++ / CLI</a></div>
<div class="MI" id="Section93"><a href="http://www.codeproject.com/KB/cs/">C#</a></div>
<div class="MI" id="Section78"><a href="http://www.codeproject.com/KB/msil/">MSIL</a></div>
<div class="MI" id="Section86"><a href="http://www.codeproject.com/KB/vbscript/">VBScript</a></div>
<div class="MI" id="Section87"><a href="http://www.codeproject.com/KB/vb/">VB.NET</a></div>
<div class="MI" id="Section115"><a href="http://www.codeproject.com/KB/vb-interop/">VB6 Interop</a></div>
<div class="MI" id="Section77"><a href="http://www.codeproject.com/KB/net-languages/">Other .NET Languages</a></div>
<div class="MI" id="Section21"><a href="http://www.codeproject.com/KB/XML/">XML</a></div>
<div class="MI" id="Section96"><a href="http://www.codeproject.com/KB/java/">Java</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=6" onclick="return ToggleMenu('Chapter6');">General Programming</a></div>
<div class="MenuSectionBlock" id="Chapter6">
<div class="MI" id="Section57"><a href="http://www.codeproject.com/KB/recipes/">Algorithms &amp; Recipes</a></div>
<div class="MI" id="Section64"><a href="http://www.codeproject.com/KB/bugs/">Bugs &amp; Workarounds</a></div>
<div class="MI" id="Section79"><a href="http://www.codeproject.com/KB/collections/">Collections</a></div>
<div class="MI" id="Section56"><a href="http://www.codeproject.com/KB/security/">Cryptography &amp; Security</a></div>
<div class="MI" id="Section50"><a href="http://www.codeproject.com/KB/datetime/">Date and Time</a></div>
<div class="MI" id="Section52"><a href="http://www.codeproject.com/KB/DLL/">DLLs &amp; Assemblies</a></div>
<div class="MI" id="Section80"><a href="http://www.codeproject.com/KB/exception/">Exception Handling</a></div>
<div class="MI" id="Section81"><a href="http://www.codeproject.com/KB/locale/">Localisation</a></div>
<div class="MI" id="Section53"><a href="http://www.codeproject.com/KB/macros/">Macros and Add-ins</a></div>
<div class="MIS" id="Section54"><a href="http://www.codeproject.com/KB/tips/">Programming Tips</a></div>
<div class="MI" id="Section55"><a href="http://www.codeproject.com/KB/string/">String handling</a></div>
<div class="MI" id="Section22"><a href="http://www.codeproject.com/KB/IP/">Internet / Network</a></div>
<div class="MI" id="Section58"><a href="http://www.codeproject.com/KB/threads/">Threads, Processes &amp; IPC</a></div>
<div class="MI" id="Section59"><a href="http://www.codeproject.com/KB/winhelp/">WinHelp / HTMLHelp</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=10" onclick="return ToggleMenu('Chapter10');">Graphics / Design</a></div>
<div class="MenuSectionBlock" id="Chapter10" style="display: none;">
<div class="MI" id="Section40"><a href="http://www.codeproject.com/KB/expression/">Expression</a></div>
<div class="MI" id="Section114"><a href="http://www.codeproject.com/KB/usability/">Usability</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=11" onclick="return ToggleMenu('Chapter11');">Development Lifecycle</a></div>
<div class="MenuSectionBlock" id="Chapter11" style="display: none;">
<div class="MI" id="Section51"><a href="http://www.codeproject.com/KB/debug/">Debug Tips</a></div>
<div class="MI" id="Section39"><a href="http://www.codeproject.com/KB/architecture/">Design and Architecture</a></div>
<div class="MI" id="Section112"><a href="http://www.codeproject.com/KB/install/">Installation</a></div>
<div class="MI" id="Section41"><a href="http://www.codeproject.com/KB/work/">Work Issues</a></div>
<div class="MI" id="Section126"><a href="http://www.codeproject.com/KB/codegen/">Code Generation</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=7" onclick="return ToggleMenu('Chapter7');">General Reading</a></div>
<div class="MenuSectionBlock" id="Chapter7" style="display: none;">
<div class="MI" id="Section60"><a href="http://www.codeproject.com/KB/books/">Book Chapters</a></div>
<div class="MI" id="Section61"><a href="http://www.codeproject.com/KB/book-reviews/">Book Reviews</a></div>
<div class="MI" id="Section109"><a href="http://www.codeproject.com/KB/hardware-review/">Hardware Reviews</a></div>
<div class="MI" id="Section63"><a href="http://www.codeproject.com/KB/interviews/">Interviews</a></div>
<div class="MI" id="Section62"><a href="http://www.codeproject.com/KB/scrapbook/">Scrapbook</a></div>
<div class="MI" id="Section48"><a href="http://www.codeproject.com/KB/system/">Hardware &amp; System</a></div>
</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Content/Chapter.aspx?chptId=12" onclick="return ToggleMenu('Chapter12');">Third Party Products</a></div>
<div class="MenuSectionBlock" id="Chapter12" style="display: none;">
<div class="MI" id="Section65"><a href="http://www.codeproject.com/KB/showcase/">Product Showcase</a></div>
<div class="MI" id="Section124"><a href="http://www.codeproject.com/KB/solution-center/">Solution Center</a></div>
</div>
</div>
<br>
<div class="MenuCat">Services</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/script/Jobs/List.aspx">Job Board</a></div>
<div class="MenuChapter"><a href="http://www.codeproject.com/Services/coffee.aspx">Code Project Coffee</a></div>
<div class="MenuChapter"><a href="http://www.codeproject.com/Services/TradePub.aspx">Free Magazines</a></div>
<br><div class="MenuCat">Feature Zones</div>
<div class="MenuChapter"><a href="http://www.codeproject.com/kb/Showcase/">Product Showcase</a></div>
<div class="MenuChapter"><a href="http://www.codeproject.com/Zones/IBM">IBM DeveloperWorks</a></div>
<div class="MenuChapter"><a href="http://www.codeproject.com/Zones/WhitePapers">WhitePapers / Webcasts</a></div>
<div class="MenuChapter"><a href="http://www.codeproject.com/Zones/Acresso">InstallShield 2009</a></div>
<div class="MenuChapter"><a href="http://www.codeproject.com/Zones/APress">Apress Bookstore</a></div>
<br>

	<div style="text-align: center; margin-bottom: 10px;">
		<script type="text/javascript">document.write(unescape("%3ca%20href%3d%22http%3a%2f%2fwww.codeproject.com%2fRedir.aspx%3fadid%3d5302%26way%3dban%22%20target%3d%22_blank%22%20rel%3d%22nofollow%22%3e%3cimg%20src%3d%22http%3a%2f%2fwww.codeproject.com%2fscript%2fAdm%2fServeImg.aspx%3fFile%3d%252fscript%252fadmentor%252fimages%252fIBMdeveloperWorks_150x80.gif%26C%3dFalse%26adid%3d5302%22%20alt%3d%22%22%20border%3d%220%22%20width%3d%22150%22%20height%3d%2280%22%3e%3c%2fa%3e"));</script><a href="http://www.codeproject.com/Redir.aspx?adid=5302&amp;way=ban" target="_blank" rel="nofollow"><img src="Fast_Data_Transfer.aspx_files/ServeImg_004.htm" alt="" border="0" height="80" width="150"></a>
	</div>
	
	<script type="text/javascript">document.write(unescape("%3ca%20href%3d%22http%3a%2f%2fwww.codeproject.com%2fRedir.aspx%3fadid%3d7308%26way%3dban%22%20target%3d%22_blank%22%20rel%3d%22nofollow%22%3e%3cimg%20src%3d%22http%3a%2f%2fwww.codeproject.com%2fscript%2fAdm%2fServeImg.aspx%3fFile%3d%252fscript%252fAdm%252fimages%252fesecutech_160by600.gif%26C%3dFalse%26adid%3d7308%22%20alt%3d%22%22%20border%3d%220%22%20width%3d%22160%22%20height%3d%22600%22%3e%3c%2fa%3e"));</script><a href="http://www.codeproject.com/Redir.aspx?adid=7308&amp;way=ban" target="_blank" rel="nofollow"><img src="Fast_Data_Transfer.aspx_files/ServeImg.htm" alt="" border="0" height="600" width="160"></a>						 
</td>
		<td class="ArticlePane" valign="top">

	
<table class="SearchHeaderBar" cellspacing="0" width="100%">
<tbody><tr>
<td style="white-space: nowrap; width: 60%;" align="right" valign="middle">
<form method="get" action="/info/search.aspx" name="Search" style="margin: 0pt;">
<b>Search &nbsp;</b>
<input class="SmallText" name="artkw" style="width: 200px;">
<select class="SmallText" style="font-weight: bold;" name="sbo">
<option value="kw">Articles</option>
<!--<option value="au">Authors</option>-->
<option value="fm">Messages</option>
<option value="s">Jobs</option>
</select>
<input class="SmallText" style="font-weight: bold;" value=" Go! " type="submit"> &nbsp;
</form>
</td>

<td class="TinyText" style="white-space: nowrap;">
<a href="http://www.codeproject.com/info/search.aspx">Advanced Search</a><br>
<a href="http://www.codeproject.com/script/Content/SiteMap.aspx">Sitemap</a>

</td>
</tr>
</tbody></table>

	<span id="ctl00_ResultMessage"></span>
	
	
    
	<div id="ctl00_ArtDiv">
	<table border="0" cellpadding="0" cellspacing="0">	
	<tbody><tr valign="top">
		<td valign="top" width="100%">
		    
<table>

</table>



			
<div class="SmallText">
<img src="Fast_Data_Transfer.aspx_files/print.gif" alt="print" style="vertical-align: middle;" height="16" width="16">
<a id="ctl00_ArticleHeaderLinks_PrintLnk" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?display=Print">Print</a> &nbsp;

<img src="Fast_Data_Transfer.aspx_files/report.gif" alt="Broken Article?" style="vertical-align: middle;" height="16" width="16">
<a id="ctl00_ArticleHeaderLinks_BrokenLnk" href="http://www.codeproject.com/script/Articles/Report.aspx?aid=8440">Report Article</a> &nbsp;



<img src="Fast_Data_Transfer.aspx_files/watchon.png" alt="Watch" style="vertical-align: middle;">

<a id="ctl00_ArticleHeaderLinks_ArticleBmkWatch_WatchMe" name="bmw_8440_2" class="" onclick="return watchMe(8440, 2);" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=8440&amp;obtid=2&amp;bma=AddWatch">Watch</a>
<span id="ctl00_ArticleHeaderLinks_ArticleBmkWatch_StatusMsg" class="TinyText" style="visibility: hidden;" name="bmw_8440_2"></span>
 &nbsp;

<img src="Fast_Data_Transfer.aspx_files/link.png" alt="Bookmark" style="vertical-align: middle;" height="16" width="16">

<a id="ctl00_ArticleHeaderLinks_ArticleBmk_BookmarkMe" name="bm_8440_2" class="" onclick="return bookmarkMe(8440, 2);" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=8440&amp;obtid=2&amp;bma=AddBookmark">Bookmark</a>
<span id="ctl00_ArticleHeaderLinks_ArticleBmk_StatusMsg" class="TinyText" style="visibility: hidden;" name="bm_8440_2"></span>

 &nbsp;

<img src="Fast_Data_Transfer.aspx_files/discuss.gif" alt="Discuss" style="vertical-align: middle;" height="16" width="15">
<a href="#_comments">Discuss</a> &nbsp;

<img src="Fast_Data_Transfer.aspx_files/mail.gif" alt="Recommend Article" style="vertical-align: middle;" height="16" width="16">&nbsp;<a id="ctl00_ArticleHeaderLinks_Recommend" href="http://www.codeproject.com/script/common/TellFriend.aspx?obtid=2&amp;obid=8440">Send&nbsp;to&nbsp;a&nbsp;friend</a>	
</div>
		</td>
		<td style="text-align: right; white-space: nowrap; width: 100px;">
		<table id="CurRat"><tbody><tr><td>            
<table><tbody><tr><td id="ctl00_ArticleRating_VL" style="white-space: nowrap;" class="SmallText" align="right"> 
<span id="ctl00_ArticleRating_VoteLabel">28 votes for this Article.</span></td>
		
<td><table border="1" cellpadding="0" cellspacing="0">
			<tbody><tr>
				<td bgcolor="White" height="7" width="20"><img src="Fast_Data_Transfer.aspx_files/red.gif" align="middle" border="0" height="7" width="20"></td>
				<td bgcolor="White" height="7" width="20"><img src="Fast_Data_Transfer.aspx_files/red.gif" align="middle" border="0" height="7" width="20"></td>
				<td bgcolor="White" height="7" width="20"><img src="Fast_Data_Transfer.aspx_files/red.gif" align="middle" border="0" height="7" width="20"></td>
				<td bgcolor="White" height="7" nowrap="nowrap" width="20"><img src="Fast_Data_Transfer.aspx_files/red.gif" align="middle" border="0" height="7" width="15"></td>
				<td bgcolor="White" height="7" width="20"><img src="Fast_Data_Transfer.aspx_files/white.gif" align="middle" border="0" height="7" width="20"></td>
			</tr>
		</tbody></table>
		</td></tr>
<tr id="ctl00_ArticleRating_PopularityRow">
			<td colspan="2" class="SmallText" align="right">
<a id="ctl00_ArticleRating_PopularityLnk" title="Calculated as rating x Log10(# votes)" href="http://www.codeproject.com/script/Articles/TopArticles.aspx?ta_so=1">Popularity: 5.43</a>
<span id="ctl00_ArticleRating_PopularityLbl"></span><span id="ratingVal">Rating: <b>3.75</b> out of 5</span></td>
		</tr>
		</tbody></table>



</td>
		<td>            
<div>
<table class="HistTable" title="Voting Distribution. Recent data only"><tbody><tr><td><img src="Fast_Data_Transfer.aspx_files/pollcol.gif" alt="3 votes, 10.7%" title="3 votes, 10.7%" border="0" height="3" width="10"><br>1</td>
<td><img src="Fast_Data_Transfer.aspx_files/pollcol.gif" alt="3 votes, 10.7%" title="3 votes, 10.7%" border="0" height="3" width="10"><br>2</td>
<td><img src="Fast_Data_Transfer.aspx_files/pollcol.gif" alt="1 vote, 3.6%" title="1 vote, 3.6%" border="0" height="1" width="10"><br>3</td>
<td><img src="Fast_Data_Transfer.aspx_files/pollcol.gif" alt="3 votes, 10.7%" title="3 votes, 10.7%" border="0" height="3" width="10"><br>4</td>
<td><img src="Fast_Data_Transfer.aspx_files/pollcol.gif" alt="18 votes, 64.3%" title="18 votes, 64.3%" border="0" height="20" width="10"><br>5</td>
</tr></tbody></table>
</div>



</td></tr></tbody></table>
		</td>
	</tr>
	</tbody></table>
	
	
	
	

	
	

	
	
	
	
	
	
	<div id="ctl00_confirmError" class="Callout SmallText" style="margin: 20px; padding: 10px;"><img style="float: left; margin-right: 10px;" src="Fast_Data_Transfer.aspx_files/warning_32.png" height="32" width="32"><b>Is your email address OK?</b>
	You are signed up for our <a id="ctl00_SubscribeLink2" href="http://www.codeproject.com/script/Membership/Subscribe.aspx?rp=%2fKB%2ftips%2fFast_Data_Transfer.aspx">newsletters</a>
	but your email address is either unconfirmed, or has not been reconfirmed in a long time.
	Please click <a id="ctl00_RequestConfirmLink2" href="http://www.codeproject.com/script/Membership/SendConfirmRequest.aspx?rp=%2fKB%2ftips%2fFast_Data_Transfer.aspx">here</a> 
	to have a confirmation email sent so we can confirm your email address and start sending
	you newsletters again.</div>
	
	
	<div id="contentdiv">
	
	<!-- Main Page Contents Start -->
	

<!-- Article Starts -->

<ul class="download">
<li><a href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer/Fast_Data_Transfer_demo.zip">Download demo project - 22.8 Kb</a> </li></ul>
<p><img alt="Sample Image - Fast_Data_Transfer_Sample.jpg" src="Fast_Data_Transfer.aspx_files/Fast_Data_Transfer_Sample.jpg" height="297" width="600"></p>
<h2>Contents</h2>
<ul>
<li><a href="#Objective">Objective</a> 
</li><li><a href="#Intro">Introduction</a> 
</li><li><a href="#recall">Recall</a> 
</li><li><a href="#requirement">Requirement</a> 
</li><li><a href="#code">Code</a> 
</li><li><a href="#finally">Finally</a> 
</li><li><a href="#link">Links</a> </li></ul>
<h2>Objective<a name="Objective"></a></h2>
<p>My objective of posting this article is to share some simple
optimization methods. In future, I will try to spend some time to write
more articles.</p>
<h2><a name="Intro"></a>Introduction</h2>
<p>This article is demonstrating Intel's SIMD (Single Instruction
Multiple Data) extension technology. Optimization by using new Intel
instruction like <code lang="asm">movdqa</code>, will move (copy) data faster than typical ones.</p>
<h2><a name="recall"></a>Recall</h2>
<p>Before we move on, let's recall some existing knowledge we have now.
Nowadays, or more commonly, we are using 32 bits processor at home,
even in industry. General purpose registers like <code lang="asm"><span class="code-keyword">eax</span></code>, <code lang="asm">ebx</code>.. etc. are 32 bits. <code><span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>)</code>
= 4 (bytes). But not all registers are 32 bits, there are some
registers having longer bit length. Since a decade ago, Intel
introduced MMX extension, in which there are 8 registers <code lang="asm">mm0</code>, <code lang="asm">mm1</code> .. <code lang="asm">mm7</code> having 64 bits length. After that, Intel introduced SSE extension, which has another new 8 registers <code lang="asm">xmm0</code>, <code lang="asm">xmm1</code> .. <code lang="asm">xmm7</code> having 128 bits length. If you want to know more details, please go to my <a href="#link">Links</a> section. Look for Intel.</p>
<h2><a name="requirement"></a>Requirement</h2>
<p>Ask yourself first, what machine you are using. It should be Intel
P3 or newer. You must bear in mind that this optimization method is
machine dependant, which means that if your hardware does not support,
you won't able to see the difference.</p>
<h2><a name="code"></a>Code</h2>
<p>The sample that I created, I purposely made it simple that it runs
in console mode. Don't cut and paste, I rather want the reader
understand and try it themselves. Here's the sample start..</p>
<p>The demo code will let you see the difference between these two
functions that serve the same purpose. Start from here, I won't explain
much, you will be alone and please read the comments within the code.
I'm sure you will able to catch up. =)</p>
<p>Wait! Get your break point ready first, sit tight. When you do
debugging, please try to step through both functions, you will notice
the difference.</p>
<p>"<code>DataTransferTypical</code>" it will copy one <code><span class="code-keyword">int</span></code> per loop (<code><span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>)</code>=4bytes ) whereas "<code>DataTransferOptimised</code>" it will copy four <code><span class="code-keyword">int</span></code> per loop (4*<code><span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>)</code>=16bytes).</p>
<p>Setting up your Watch window.. In your Watch window, watch "piDst, 101". Then you will see how it is changing... <img src="Fast_Data_Transfer.aspx_files/smiley_biggrin.htm" align="absmiddle" height="16" width="16"></p>
<p><b><i>P.S.: You need to install processor pack in order to get your MSVC++ compile this code. See Links section.</i></b></p><pre lang="mc++"><span class="code-keyword">int</span> DataTransferTypical(<span class="code-keyword">int</span>* piDst, <span class="code-keyword">int</span>* piSrc, <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> SizeInBytes);
<span class="code-keyword">int</span> DataTransferOptimised(<span class="code-keyword">int</span>* piDst, <span class="code-keyword">int</span>* piSrc, <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> SizeInBytes);</pre><div class="SmallText" id="premain1" style="width: 100%; cursor: pointer;"><img preid="1" src="Fast_Data_Transfer.aspx_files/minus.gif" id="preimg1" height="9" width="9"><span preid="1" style="margin-bottom: 0pt;" id="precollapse1"> Collapse</span></div><pre style="margin-top: 0pt;" id="pre1" lang="mc++"><span class="code-keyword">int</span> main(<span class="code-keyword">int</span> argc, <span class="code-keyword">char</span>* argv[])
{
 <span class="code-comment">//</span><span class="code-comment"> var keep the start and end time. simple one. if u wish to have accurate 
</span>
 <span class="code-comment">//</span><span class="code-comment"> one, please look for other article.
</span>
 <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> dwTimeStart = <span class="code-digit">0</span>;
 <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> dwTimeEnd = <span class="code-digit">0</span>;

 <span class="code-comment">//</span><span class="code-comment"> temporary variable
</span>
 <span class="code-keyword">int</span> *piSrc = NULL;
 <span class="code-keyword">int</span> *piDst = NULL;

 <span class="code-keyword">int</span> i = <span class="code-digit">0</span>;
 <span class="code-keyword">char</span> cKey = <span class="code-digit">0</span>;

 <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> dwDataSizeInBytes = <span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>) * DATA_SIZE;

 <span class="code-comment">//</span><span class="code-comment"> u need to install processor pack in order to get msvc++ compile this 
</span>
 <span class="code-comment">//</span><span class="code-comment"> code. see Link section.
</span>
 piSrc = (<span class="code-keyword">int</span> *)_aligned_malloc(dwDataSizeInBytes,dwDataSizeInBytes);
 piDst = (<span class="code-keyword">int</span> *)_aligned_malloc(dwDataSizeInBytes,dwDataSizeInBytes);

 <span class="code-keyword">do</span>
 {
  <span class="code-comment">//</span><span class="code-comment"> initialise
</span>
  memset(piSrc, <span class="code-digit">1</span>, dwDataSizeInBytes);
  memset(piDst, <span class="code-digit">0</span>, dwDataSizeInBytes);

  dwTimeStart = clock();
  <span class="code-keyword">for</span>(i = <span class="code-digit">0</span>; i <span class="code-keyword">&lt;</span> ITERATION; i++)
   DataTransferTypical(piDst, piSrc, dwDataSizeInBytes);
  dwTimeEnd = clock();
  printf(<span class="code-string">"</span><span class="code-string">== Typical Transfer of %d * %d times of %d bytes data ==\nTime 
          Elapsed = %d msec\n\n"</span>, 
          ITERATION, DATA_SIZE, <span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>), dwTimeEnd - dwTimeStart);

  <span class="code-comment">//</span><span class="code-comment"> initialise
</span>
  memset(piSrc, <span class="code-digit">1</span>, dwDataSizeInBytes);
  memset(piDst, <span class="code-digit">0</span>, dwDataSizeInBytes);

  dwTimeStart = clock();
  <span class="code-keyword">for</span>(i = <span class="code-digit">0</span>; i <span class="code-keyword">&lt;</span> ITERATION; i++)
   DataTransferOptimised(piDst, piSrc, dwDataSizeInBytes);
  dwTimeEnd = clock();
  printf(<span class="code-string">"</span><span class="code-string">== Optimised Transfer of %d * %d times of %d bytes data ==\nTime 
         Elapsed = %d msec\n\n"</span>, 
         ITERATION, DATA_SIZE, <span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>), dwTimeEnd - dwTimeStart);

  printf(<span class="code-string">"</span><span class="code-string">Rerun? (y/n) "</span>);
  cKey = getche();
  printf(<span class="code-string">"</span><span class="code-string">\n\n"</span>);
 }<span class="code-keyword">while</span>(cKey == <span class="code-string">'</span><span class="code-string">y'</span>);

 _aligned_free(piSrc);
 _aligned_free(piDst);

 <span class="code-keyword">return</span> <span class="code-digit">0</span>;
}

<span class="code-preprocessor">#pragma</span> warning(push)
<span class="code-preprocessor">#pragma</span> warning(disable:<span class="code-digit">4018</span> <span class="code-digit">4102</span>)

<span class="code-keyword">int</span> DataTransferTypical(<span class="code-keyword">int</span>* piDst, <span class="code-keyword">int</span>* piSrc, <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> SizeInBytes)
{
 <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> dwNumElements = SizeInBytes / <span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>);

 <span class="code-keyword">for</span>(<span class="code-keyword">int</span> i = <span class="code-digit">0</span>; i <span class="code-keyword">&lt;</span> dwNumElements; i++)
 {
  <span class="code-comment">//</span><span class="code-comment"> i is offset.
</span>
  *(piDst + i) = *(piSrc + i);
 }

 <span class="code-keyword">return</span> <span class="code-digit">0</span>;
}

<span class="code-keyword">int</span> DataTransferOptimised(<span class="code-keyword">int</span>* piDst, <span class="code-keyword">int</span>* piSrc, <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> SizeInBytes)
{
 <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> dwNumElements = SizeInBytes / <span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>);
 <span class="code-comment">//</span><span class="code-comment"> not really using it, just for debuging. it keeps number of looping. 
</span>
 <span class="code-comment">//</span><span class="code-comment"> it also means number of packed data.
</span>
 <span class="code-keyword">unsigned</span> <span class="code-keyword">long</span> dwNumPacks = dwNumElements / (128/(<span class="code-keyword">sizeof</span>(<span class="code-keyword">int</span>)*<span class="code-digit">8</span>));

 _asm
 {
  <span class="code-comment">//</span><span class="code-comment"> remember for cleanup
</span>
  pusha;
begin:
  <span class="code-comment">//</span><span class="code-comment"> init counter to SizeInBytes
</span>
  mov  ecx,SizeInBytes;
  <span class="code-comment">//</span><span class="code-comment"> get destination pointer
</span>
  mov  edi,piDst;
  <span class="code-comment">//</span><span class="code-comment"> get source pointer
</span>
  mov  esi,piSrc;
begina:
  <span class="code-comment">//</span><span class="code-comment"> check if counter is 0, yes end loop.
</span>
  cmp  ecx,<span class="code-digit">0</span>;
  jz  end;
body:
  <span class="code-comment">//</span><span class="code-comment"> calculate offset
</span>
  mov  ebx,SizeInBytes;
  sub  ebx,ecx;
  <span class="code-comment">//</span><span class="code-comment"> copy source's content to 128 bits registers
</span>
  movdqa xmm1,[esi+ebx];
  <span class="code-comment">//</span><span class="code-comment"> copy 128 bits registers to destination
</span>
  movdqa [edi+ebx],xmm1;

bodya:
  <span class="code-comment">//</span><span class="code-comment"> we've done "1 packed == 4 * sizeof(int)" already.
</span>
  sub  ecx,<span class="code-digit">16</span>;
  jmp  begina;
end:
  <span class="code-comment">//</span><span class="code-comment"> cleanup
</span>
  popa;
 }

 <span class="code-keyword">return</span> <span class="code-digit">0</span>;
}

<span class="code-preprocessor">#pragma</span> warning(pop)</pre>
<h2><a name="finally"></a>Finally</h2>
<p>This is my first article in Code Project, please bear with me if
something is not right. Also, I hope the demo that I uploaded here is
simple enough for beginners. Nothing fancy. Learning is fun, right? =)</p>
<h2><a name="link"></a>Links</h2>
<ul>
<li>Visual C++ 6.0 Processor Pack Download -&gt; <a href="http://msdn.microsoft.com/vstudio/downloads/tools/ppack/download.aspx" target="_blank">MSDN</a>. 
</li><li><a href="http://www.intel.com/" target="_blank">Intel web site</a>. </li></ul>
<h2>History</h2>
<p>I will only update this article when people are requesting. The sample code will not be maintained.</p>



<!-- Article Ends -->


	<!-- Main Page Contents End -->
	
	</div>
	
	
	<form name="aspnetForm" method="post" action="Fast_Data_Transfer.aspx" id="aspnetForm" style="margin: 0pt; padding: 0pt;">
		<div>
		<input name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTEwMDUyNjYzMjhkZN2hOhsAlgkr0Xs9QR8He/hqQ4LA" type="hidden">
		</div>
		

	
	<h2>License</h2>
	<div id="ctl00_LicenseTerms"><p>This
article has no explicit license attached to it but may contain usage
terms in the article text or the download files themselves. If in doubt
please contact the author via the discussion board below.</p><p>A list of licenses authors might use can be found <a href="http://www.codeproject.com/info/Licenses.aspx">here</a></p></div>
	
	<h2>About the Author</h2>
	
			
            
<table border="0" cellpadding="0" cellspacing="5" width="100%">
<tbody><tr valign="top">
<td id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhotoTable" style="width: 155px;" valign="top">
	<b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></b><br><br>
	<center><img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" src="Fast_Data_Transfer.aspx_files/2D7C0ADC-5665-42C1-9172-ECD089F5C8C6.jpg" style="border-width: 0px;"></center><br>
	<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberType" class="SmallText"></span>
		
</td>
		
<td> He started programming in dBase, pascal, c then assembly. Actively
working on image processing algorithm and customised vision
applications. His major actually is more on control engineering, motion
control, machine vision &amp; satistics. <br>He did like to work on many projects that require careful analytical method.<br>He can be reached at albertoycc@hotmail.com.<br>	

	<table>
	<tbody><tr id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_jobTitleRow">
			<td class="SmallText" nowrap="nowrap">Occupation: </td>
			<td width="100%"><span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle" class="SmallText">Software Developer (Senior)</span></td>
		</tr>
		

	

	<tr id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_locationRow">
			<td class="SmallText">Location: </td>
			<td width="100%"><span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation" class="SmallText"><img src="Fast_Data_Transfer.aspx_files/SG.gif" alt="Singapore" height="11" width="16"> Singapore</span></td>
		</tr>
		
	</tbody></table>
	
</td>
</tr>
</tbody></table>

			<br>
		
	
	<table border="0" cellpadding="0" cellspacing="0" width="100%">	
	<tbody><tr valign="top">			
		<td style="width: 100%;">
			<h2>Other popular Programming Tips articles:</h2><ul><li><a href="http://www.codeproject.com/KB/tips/Self-generating-code.aspx">Programming Self-generating Code for Windows Applications</a><div class="SmallText">Executing VC++ codes in STACK or HEAP</div></li><li><a href="http://www.codeproject.com/KB/tips/doxysetup.aspx">10 Minutes to document your code</a><div class="SmallText">Setting up doxygen, a free tool to document your code, in a few simple steps.</div></li><li><a href="http://www.codeproject.com/KB/tips/optimizationenemy.aspx">Optimization: Your Worst Enemy</a><div class="SmallText">Learn about the potential pitfalls of code optimization.</div></li><li><a href="http://www.codeproject.com/KB/tips/HowToUseGoogle.aspx">How to use google and other tips for finding programming help</a><div class="SmallText">A primer for people looking to learn to help themselves find answers to programming questions</div></li><li><a href="http://www.codeproject.com/KB/tips/aggressiveoptimize.aspx">Aggressive Optimizations for Visual C++</a><div class="SmallText">Save time and space in your release builds - fight bloatware!</div></li></ul>
		</td>
		<td>
			<script type="text/javascript">document.write(unescape("%3ca%20href%3d%22http%3a%2f%2fwww.codeproject.com%2fRedir.aspx%3fadid%3d7674%26way%3dban%22%20target%3d%22_blank%22%20rel%3d%22nofollow%22%3e%3cimg%20src%3d%22http%3a%2f%2fwww.codeproject.com%2fscript%2fAdm%2fServeImg.aspx%3fFile%3d%252fscript%252fAdm%252fimages%252f20082-300x250.png%26C%3dFalse%26adid%3d7674%22%20alt%3d%22%22%20border%3d%220%22%20width%3d%22300%22%20height%3d%22250%22%3e%3c%2fa%3e"));</script><a href="http://www.codeproject.com/Redir.aspx?adid=7674&amp;way=ban" target="_blank" rel="nofollow"><img src="Fast_Data_Transfer.aspx_files/ServeImg_003.htm" alt="" border="0" height="250" width="300"></a>
		</td>
	</tr>
	</tbody></table>

	<div id="ctl00_AddTo_AddTo" style="margin: 10px;">
<script language="JavaScript" type="text/javascript">
var socialLinks = new social();
socialLinks.addtoMethod=1;
socialLinks.DrawLinks("socialLinks", document.location.href, escape(document.title), 100, 0, "SmallText Bold", "AddTo");
</script><span class="SmallText Bold">Add this article to: </span> <a class="AddTo" title="Add this page to Digg" onclick="return socialLinks.addto(0);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Digg.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Del.icio.us" onclick="return socialLinks.addto(1);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Delicious.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Google" onclick="return socialLinks.addto(2);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Google.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Windows Live" onclick="return socialLinks.addto(3);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Live.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Yahoo! MyWeb" onclick="return socialLinks.addto(4);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Yahoo.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Technorati" onclick="return socialLinks.addto(5);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Technorati.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Blink" onclick="return socialLinks.addto(6);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Blink.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Facebook" onclick="return socialLinks.addto(7);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Facebook.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Furl" onclick="return socialLinks.addto(8);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Furl.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Simpy" onclick="return socialLinks.addto(9);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Simpy.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Reddit" onclick="return socialLinks.addto(10);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Reddit.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Newsvine" onclick="return socialLinks.addto(11);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_Newsvine.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Stumbleupon" onclick="return socialLinks.addto(12);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_stumbleupon.png" align="absmiddle" border="0" height="16" width="16"></a>  <a class="AddTo" title="Add this page to Mr. Wong" onclick="return socialLinks.addto(13);" href="#"><img src="Fast_Data_Transfer.aspx_files/AddTo_MrWong.png" align="absmiddle" border="0" height="16" width="16"></a>  
</div>
	
	<table id="ctl00_RateArticleRow" class="RatingBar" border="0" cellpadding="0" cellspacing="0" width="100%">
			<tbody><tr>
				<td><a href="#_top">Article Top</a></td>
				<td align="right">            
<table cellpadding="0" cellspacing="0" width="100%"><tbody><tr>

	<td id="ctl00_RateArticle_VoteResultDiv" align="right" nowrap="nowrap" width="100%">
		<span id="voteRes"></span>
		<img id="loaderImg" alt="loading..." src="Fast_Data_Transfer.aspx_files/ajax-loader.gif" style="display: none;" height="16" width="16"> 
	</td>
				
	
	<td id="voteTbl" style="white-space: nowrap;" class="SmallText" align="right">
	
		<table><tbody><tr>
		
		<td id="ctl00_RateArticle_RateText" style="padding-right: 5px; white-space: nowrap;"><i><b>Rate this Article for us!</b></i></td>
				
		<td id="ctl00_RateArticle_StartForm" align="right"><i>&nbsp;&nbsp;Poor</i></td>
				
		<td id="ctl00_RateArticle_VoteFormDiv" style="white-space: nowrap;" align="left">
		<table id="ctl00_RateArticle_VoteRBL" border="0">
					<tbody><tr>
						<td><input id="ctl00_RateArticle_VoteRBL_0" name="ctl00$RateArticle$VoteRBL" value="1" type="radio"></td><td><input id="ctl00_RateArticle_VoteRBL_1" name="ctl00$RateArticle$VoteRBL" value="2" type="radio"></td><td><input id="ctl00_RateArticle_VoteRBL_2" name="ctl00$RateArticle$VoteRBL" value="3" type="radio"></td><td><input id="ctl00_RateArticle_VoteRBL_3" name="ctl00$RateArticle$VoteRBL" value="4" type="radio"></td><td><input id="ctl00_RateArticle_VoteRBL_4" name="ctl00$RateArticle$VoteRBL" value="5" type="radio"></td>
					</tr>
				</tbody></table> 
		</td>
				
		<td id="ctl00_RateArticle_EndForm" align="left" nowrap="nowrap"><i>Excellent</i>
			<input name="ctl00$RateArticle$SubmitRateBtn" value="Vote" onclick="return rateItem(8440,2);" id="ctl00_RateArticle_SubmitRateBtn" class="FormButton" type="submit"> 
		</td>
				
		<td><span id="ctl00_RateArticle_ErrorMessage"></span></td>
		</tr></tbody></table>
	</td>
</tr></tbody></table>



</td>
			</tr>
		</tbody></table>
		
	
		<div>

			<input name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWCAKigJnaDwLAlMXDBwLBlMXDBwLClMXDBwLDlMXDBwLElMXDBwLP+++tCwK5upDkC+bTlGlEqH3zoCChvkUc3LP19RV1" type="hidden">
		</div></form>
	
	<div style="padding: 10px; overflow: hidden; text-align: center; white-space: nowrap;">
		<iframe src="Fast_Data_Transfer.aspx_files/ServeHTML.htm" frameborder="0" height="60" scrolling="no" width="468"></iframe>
		<iframe src="Fast_Data_Transfer.aspx_files/ServeLinks.htm" frameborder="0" height="60" scrolling="no" width="300"></iframe>					  
	</div>

	<a name="_comments"></a><!-- Forum Start -->
<div id="_MessageBoard" onclick="return SwitchMessage(event, null)">
	<table id="ForumTable" class="Frm_MainTable" cellpadding="0" cellspacing="0">
		<tbody><tr>
			<td><form action="/script/Forums/SetOptions.aspx?floc=%2fKB%2ftips%2fFast_Data_Transfer.aspx&amp;fid=114488" method="get" style="margin: 0pt; padding: 0pt;">
				<input name="fid" value="114488" type="hidden"><input name="currentQS" value="?floc=%2fKB%2ftips%2fFast_Data_Transfer.aspx&amp;fid=114488" type="hidden"><input name="floc" value="/KB/tips/Fast_Data_Transfer.aspx" type="hidden"><table border="0" cellpadding="3" cellspacing="0" width="100%">
					<tbody><tr class="Frm_HeaderRow1">
						<td style="white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/forum_faq.gif" alt="FAQ" align="middle" border="0" height="16" width="16">&nbsp;<a href="http://www.codeproject.com/script/Forums/FAQ.aspx"><b>FAQ</b></a>&nbsp;</td><td style="white-space: nowrap; text-align: right;">Noise Tolerance<select size="1" class="Frm_DropDown" name="noise">
							<option value="1">Very High</option><option value="2">High</option><option selected="selected" value="3">Medium</option><option value="4">Low</option><option value="5">Very Low</option>
						</select></td><td colspan="2" style="white-space: nowrap; text-align: right;"><img src="Fast_Data_Transfer.aspx_files/forum_search.gif" alt="Search" align="top" border="0" height="15" width="16">&nbsp;<a href="http://www.codeproject.com/script/Forums/Search.aspx?fid=114488">Search Messages</a>&nbsp;</td><td style="text-align: right;"><input value="Set Options" name="SetOpt" class="Frm_Button" type="submit"></td>
					</tr><tr class="Frm_HeaderRow2">
						<td style="width: 100%;">&nbsp;</td><td style="white-space: nowrap; text-align: right;">Layout<select size="1" class="Frm_DropDown" name="view">
							<option selected="selected" value="Quick">Normal</option><option value="Topic">Expand Root Messages</option><option value="Expanded">Expand All Messages</option><option value="Thread">Thread View</option><option value="Normal">No Javascript (slow)</option><option value="Preview">No Javascript Preview</option>
						</select>&nbsp;&nbsp;</td><td style="white-space: nowrap;">Per page<select size="1" class="Frm_DropDown" name="mpp">
							<option value="10">10</option><option selected="selected" value="25">25</option><option value="50">50</option>
						</select>&nbsp;&nbsp;</td><td colspan="2">&nbsp;</td>
					</tr>
				</tbody></table>
			</form></td>
		</tr><tr>
			<td><a name="xx0xx"></a><table border="0" cellpadding="2" cellspacing="0" width="100%">
				<tbody><tr class="Frm_NavigationBar">
					<td><img src="Fast_Data_Transfer.aspx_files/forum_newmsg.gif" alt="new" align="top" border="0" height="16" width="16"><a href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;floc=/KB/tips/Fast_Data_Transfer.aspx" class="Frm_HL" name="Frm_HoverNL" title="Create a new message thread" target="_top"><b>New Message</b></a></td><td>Msgs 1 to 25 of 25 (Total in Forum: 25) (<a href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488">Refresh</a>)</td><td style="text-align: right; white-space: nowrap;"><span class="Frm_HL">First</span><span class="Frm_HL">Prev</span><span class="Frm_HL">Next</span></td>
				</tr>
			</tbody></table></td>
		</tr><tr>
			<td><table class="Frm_MsgTable" border="0" cellpadding="0" cellspacing="0" width="100%">
				

<!-- Column Headers -->

				<tbody><tr class="Frm_ColumnHeaders">
					<td style="width: 100%;"><table border="0" cellpadding="2" cellspacing="0" width="100%">
						<tbody><tr>
							<td>Subject&nbsp;</td><td class="Frm_MsgAuthor">&nbsp;Author&nbsp;</td><td class="Frm_MsgDate">Date&nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><tr>
					<td><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="5" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd Rt HdUnSel" id="F2312367_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx2312367xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="2312367" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=2312367#xx2312367xx">Another thing to consider [modified]</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=4431496">kbrafford</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">17:19 9 Nov '07 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F2312367_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">I
think you could further improve the optimized version if you made it so
that there is only one branch per loop iteration, instead of two.<br><br>Put
the test (the "does ecx == 0?" code) at the bottom of the body instead
of the top, and just put a jump to the test at the beginning. Then you
only have one compare and jump per loop iteration. <br><br>Something like this:<br><br> _asm<br> {<br>  // remember for cleanup<br>  pusha;<br>begin:<br>  // init counter to SizeInBytes<br>  mov  ecx,SizeInBytes;<br>  // get destination pointer<br>  mov  edi,piDst;<br>  // get source pointer<br>  mov  esi,piSrc;<br><br><br>  // jump to the test the first time<br>  jmp  test;<br><br>body:<br><br>  // calculate offset<br>  mov  ebx,SizeInBytes;<br>  sub  ebx,ecx;<br><br>  // copy source's content to 128 bits registers<br>  movdqa xmm1,[esi+ebx];<br>  // copy 128 bits registers to destination<br>  movdqa [edi+ebx],xmm1;<br><br>  // we've done "1 packed == 4 * sizeof(int)" already.<br>  sub  ecx,16;<br><br>test:<br>  // check if counter is 0, yes end loop.<br>  cmp  ecx,0;<br>  jnz  body;      // I have no idea if JNZ is right, but you get the idea<br><br>end:<br>  // cleanup<br>  popa;<br> }<br> <br><br>--kbrafford<br><br><br><br> -- modified at 17:30 Friday 9th November, 2007 <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=2312367&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=2312367&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=2312367" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=2312367" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2312367&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF2312367" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(4431496,2312367,false,"","","");
											</script>Rate this message: <a href="#xx2312367xx" onclick="RateMsg(4431496, 2312367,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx2312367xx" title="vote this message a 1" onclick="RateMsg(4431496, 2312367, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx2312367xx" title="vote this message a 2" onclick="RateMsg(4431496, 2312367, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx2312367xx" title="vote this message a 3" onclick="RateMsg(4431496, 2312367, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx2312367xx" title="vote this message a 4" onclick="RateMsg(4431496, 2312367, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx2312367xx" title="vote this message a 5" onclick="RateMsg(4431496, 2312367, 5,0)"><b>5</b></a> <a href="#xx2312367xx" onclick="RateMsg(4431496, 2312367,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd Rt HdUnSel" id="F1814099_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx1814099xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="1814099" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=1814099#xx1814099xx">ultimate copy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=3466817">tydok</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">6:39 21 Dec '06 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F1814099_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">"rep movsd" is the best way to copy bytes(IA-32  machine)<br><br>memcpy() uses the above instruction, what else? <img src="Fast_Data_Transfer.aspx_files/smiley_smile.gif" alt="Smile" align="top"><br><br>there is no way to copy 64bit or 128bit data in a 32-bit machine <img src="Fast_Data_Transfer.aspx_files/smiley_confused.gif" alt="Confused" align="top"> <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1814099&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1814099&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=1814099" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=1814099" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=1814099&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF1814099" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(3466817,1814099,false,"","","");
											</script>Rate this message: <a href="#xx1814099xx" onclick="RateMsg(3466817, 1814099,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx1814099xx" title="vote this message a 1" onclick="RateMsg(3466817, 1814099, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx1814099xx" title="vote this message a 2" onclick="RateMsg(3466817, 1814099, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx1814099xx" title="vote this message a 3" onclick="RateMsg(3466817, 1814099, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx1814099xx" title="vote this message a 4" onclick="RateMsg(3466817, 1814099, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx1814099xx" title="vote this message a 5" onclick="RateMsg(3466817, 1814099, 5,0)"><b>5</b></a> <a href="#xx1814099xx" onclick="RateMsg(3466817, 1814099,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd Rt HdUnSel" id="F1571317_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx1571317xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="1571317" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=1571317#xx1571317xx">Not working</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=2048470">xtent</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">9:46 11 Jul '06 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F1571317_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">I think this optimization is not correct. On my Pentium 4 3Ghz it shows<br>following perfomance:<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 31 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 32 msec<br><br>Rerun? (y/n) <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1571317&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1571317&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=1571317" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=1571317" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=1571317&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF1571317" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(2048470,1571317,false,"","","");
											</script>Rate this message: <a href="#xx1571317xx" onclick="RateMsg(2048470, 1571317,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx1571317xx" title="vote this message a 1" onclick="RateMsg(2048470, 1571317, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx1571317xx" title="vote this message a 2" onclick="RateMsg(2048470, 1571317, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx1571317xx" title="vote this message a 3" onclick="RateMsg(2048470, 1571317, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx1571317xx" title="vote this message a 4" onclick="RateMsg(2048470, 1571317, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx1571317xx" title="vote this message a 5" onclick="RateMsg(2048470, 1571317, 5,0)"><b>5</b></a> <a href="#xx1571317xx" onclick="RateMsg(2048470, 1571317,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd HdUnSel" id="F1571871_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="34"><a name="xx1571871xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="1571871" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=1571871#xx1571871xx">Re: Not working</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">13:38 11 Jul '06 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F1571871_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 34px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">first of all, do u install processor pack?<br>secondly
i would like say is, if u turn on opmization in modern compiler, it
will help u to optimise the typical transfer code too. because the code
is too simple to optimise.<br>if u modify to do the code slightly, u may see the different.<br>other way is, turn off the optimisation during ur release compile option.<br>then u will see the different too.<br><br>the
article fail to provide you to show the absolute different between
typical and optimise before of a few factors, one of them is modern
compile do the job for you since the sample code is too simple. or we
have to add some complication to the code, for example add some
encrytion and formula to avoid automatic optimised by compiler.<br><br>have a nice day. <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1571871&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1571871&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=1571317" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=1571871" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=1571871&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF1571871" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(191662,1571871,false,"","","");
											</script>Rate this message: <a href="#xx1571871xx" onclick="RateMsg(191662, 1571871,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx1571871xx" title="vote this message a 1" onclick="RateMsg(191662, 1571871, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx1571871xx" title="vote this message a 2" onclick="RateMsg(191662, 1571871, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx1571871xx" title="vote this message a 3" onclick="RateMsg(191662, 1571871, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx1571871xx" title="vote this message a 4" onclick="RateMsg(191662, 1571871, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx1571871xx" title="vote this message a 5" onclick="RateMsg(191662, 1571871, 5,0)"><b>5</b></a> <a href="#xx1571871xx" onclick="RateMsg(191662, 1571871,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd Rt HdUnSel" id="F1091242_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx1091242xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="1091242" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=1091242#xx1091242xx">movntdq</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/usersuss.gif" alt="suss" height="15" width="14"></td><td class="Frm_MsgAuthor">Anonymous</td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">0:29 25 Apr '05 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F1091242_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Using the movntdq instruction instead of movdqa for writing back to main memory gives a significant speed improvement.<br>movntdq writes directly back to main memory bypassing the cache.<br>The code below with movntdq moves data at about 91% of the theoretical maximum on my P4 2.4GHz Celeron with DDR333 RAM. <br><br>Note
that using movntdq is slower than movdqa when the entire array will fit
in the cache but about 40% faster when the array is much larger than
the cache.<br><br>The code when using movdqa runs at about the same speed as the memcpy function.<br><br>int DataTransferOptimised(int* piDst, int* piSrc, unsigned long SizeInBytes)<br>{<br>	unsigned long dwNumElements = SizeInBytes / sizeof(int);<br>	unsigned long dwNumPacks = dwNumElements / (128/(sizeof(int)*8));<br><br>	_asm<br>	{<br>		pusha;<br>begin:<br>		mov		ecx,SizeInBytes;<br>		mov		edi,piDst;<br>		mov		esi,piSrc;<br>begina:<br>		cmp		ecx,0;<br>		jz		end;<br>body:<br>		movdqa	xmm1, [esi];	//load from memory.<br>		add		esi, 16;<br><br>		movntdq	[edi], xmm1;	//write back. <br>		add		edi, 16;<br><br>/*		movdqa	[edi], xmm1;<br>		add		edi, 16;*/<br><br>bodya:<br>		sub		ecx,16;	//decrement counter.<br>		jmp		begina;<br>end:<br>		popa;<br>	}<br><br>	return 0;<br>} <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1091242&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=1091242&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=1091242" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=1091242" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=1091242&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF1091242" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(0,1091242,false,"","","");
											</script>Rate this message: <a href="#xx1091242xx" onclick="RateMsg(0, 1091242,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx1091242xx" title="vote this message a 1" onclick="RateMsg(0, 1091242, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx1091242xx" title="vote this message a 2" onclick="RateMsg(0, 1091242, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx1091242xx" title="vote this message a 3" onclick="RateMsg(0, 1091242, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx1091242xx" title="vote this message a 4" onclick="RateMsg(0, 1091242, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx1091242xx" title="vote this message a 5" onclick="RateMsg(0, 1091242, 5,0)"><b>5</b></a> <a href="#xx1091242xx" onclick="RateMsg(0, 1091242,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd Rt HdUnSel" id="F992727_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx992727xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="992727" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=992727#xx992727xx">Unfortunately, Above sample is not optimized.</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=1580643">unicon88</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">12:54 10 Dec '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F992727_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">I have applied SSE memory copy to 800*600*sizeof(short) memory block.<br>(because..nowadays I have abosbed in 800*600(16BIT) resolution PC game programing.)<br><br>My test results are defferent from above sample.<br>and other memory block copy tests has same result.<br><br>Above sample results are related to CPU cache.<br><br>If source &amp; destination pointer pointed by DataTransferOptimised func" are chaged then <br>SSE memory copy has no cache gains.<br><br>My test program here.<br><br>//---------------------------------------------------------------------------<br>#include &lt; stdio.h &gt;<br>#include &lt; stdlib.h &gt;<br>#include &lt; conio.h &gt;<br>#include &lt; malloc.h &gt;<br><br><br>#ifndef __STANDARD_TYPEDEFS__<br>#define __STANDARD_TYPEDEFS__<br>typedef unsigned char  U8;<br>typedef unsigned short U16;<br>typedef unsigned int   U32;<br>#endif<br><br><br>//MEMCPY32 is not satefy in miss-aligned memory.<br>void __fastcall MEMCPY32(U16 *lpiDst, U16 *lpiSrc, int nSize)<br>{<br>    _asm<br>    {<br>	mov   ecx, nSize    <br>	mov   edi, lpiDst   <br>	shr   ecx, 2       <br>	mov   esi, lpiSrc <br>	rep   movsd<br>    }<br>}<br><br><br>unsigned long g_dwCLOCK_HI;<br>unsigned long g_dwCLOCK_LO;<br><br><br>//reset clock counter.<br>void StartClockCounter(void)<br>{<br>    _asm<br>    {<br>	rdtsc<br>        mov    g_dwCLOCK_HI, EDX<br>	mov    g_dwCLOCK_LO, EAX<br>    }<br>}<br><br><br>//get clock counter.<br>unsigned long lGetClockCounter(void)<br>{<br>    _asm<br>   {<br>	rdtsc<br>        sub    EDX, g_dwCLOCK_HI<br>	sub    EAX, g_dwCLOCK_LO<br>	mov    g_dwCLOCK_HI, EDX<br>	mov    g_dwCLOCK_LO, EAX<br>    }<br><br>    return g_dwCLOCK_LO;<br>}<br><br><br><br>int DataTransferTypical(int* piDst, int* piSrc, unsigned long SizeInBytes)<br>{<br> unsigned long dwNumElements = SizeInBytes / sizeof(int);<br><br> for(int i = 0; i &lt; dwNumElements; i++)<br> {<br>  // i is offset.<br>  *(piDst + i) = *(piSrc + i);<br> }<br><br> return 0;<br>}<br><br><br><br>int DataTransferOptimised(int* piDst, int* piSrc, unsigned long SizeInBytes)<br>{<br> unsigned long dwNumElements = SizeInBytes / sizeof(int);<br> // not really using it, just for debuging. it keeps number of looping. <br> // it also means number of packed data.<br> unsigned long dwNumPacks = dwNumElements / (128/(sizeof(int)*8));<br><br> _asm<br> {<br>  // remember for cleanup<br>  pusha;<br>begin:<br>  // init counter to SizeInBytes<br>  mov  ecx,SizeInBytes;<br>  // get destination pointer<br>  mov  edi,piDst;<br>  // get source pointer<br>  mov  esi,piSrc;<br>begina:<br>  // check if counter is 0, yes end loop.<br>  cmp  ecx,0;<br>  jz  end;<br>body:<br>  // calculate offset<br>  mov  ebx,SizeInBytes;<br>  sub  ebx,ecx;<br>  // copy source's content to 128 bits registers<br>  movdqa xmm1,[esi+ebx];<br>  // copy 128 bits registers to destination<br>  movdqa [edi+ebx],xmm1;<br><br>bodya:<br>  // we've done "1 packed == 4 * sizeof(int)" already.<br>  sub  ecx,16;<br>  jmp  begina;<br>end:<br>  // cleanup<br>  popa;<br> }<br><br> return 0;<br>}<br><br><br><br>void main(void)<br>{<br>    int n, nLoop;<br>    int nBufWidth, nBufHeight;<br>    int nDataSize; <br>    char chKey;<br>    unsigned long Time1, Time2;<br><br>    U16 *lp1, *lp2;<br>    U16 *lp1_aligned, *lp2_aligned;<br>    <br><br>    nBufWidth  = 800;<br>    nBufHeight = 600;<br><br>    nDataSize = nBufWidth*nBufHeight*sizeof(U16); //make 800*600 (16BIT) Buffer.<br>	<br>    lp1_aligned = (U16 *)_aligned_malloc(nDataSize, 16);<br>    lp2_aligned = (U16 *)_aligned_malloc(nDataSize, 16);<br><br>    nLoop = nBufHeight;<br><br>    do<br>    {<br>	lp1 = lp1_aligned;<br>	lp2 = lp2_aligned;<br><br>	StartClockCounter(); <br>    <br>	for(n=0; n &lt; nLoop; n++)<br>	{   <br>	    MEMCPY32(lp1, lp2, nBufWidth*2); <br>            //32BIT block copy by using MOVSD.<br>	    lp1 += nBufWidth;<br>	    lp2 += nBufWidth;<br>	}<br><br>	Time1 = lGetClockCounter(); <br><br>	printf("Elapsed Time1:%d\n", Time1); <br><br>	lp1 = lp1_aligned;<br>	lp2 = lp2_aligned;<br><br>	StartClockCounter(); <br><br>	for(n=0; n &lt; nLoop; n++)<br>	{<br>	    DataTransferOptimised((int *)lp1, (int *)lp2, nBufWidth*2);<br>	    lp1 += nBufWidth;<br>	    lp2 += nBufWidth;<br>	}<br><br>	Time2 = lGetClockCounter();<br><br>	printf("Elapsed Time2:%d\n", Time2);<br><br>	if (Time2 &lt; Time1)<br>	    printf("%.2f%% Faster.\n", <br>                   (float)((float)Time1/(float)Time2)*100-100.);<br>	else<br>	    printf("%.2f%% Slower.\n", <br>                   (float)((float)Time2/(float)Time1)*100-100.);<br>		<br>	printf("More?(y/n)");<br>	chKey = getche();<br>	printf("\n\n");<br><br>    }while(chKey == 'y');<br>	<br>    _aligned_free(lp1_aligned);<br>    _aligned_free(lp2_aligned);<br>}<br>//---------------------------------------------------------------------------<br><br><br><br><br><br> <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=992727&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=992727&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=992727" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=992727" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=992727&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF992727" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(1580643,992727,false,"","","");
											</script>Rate this message: <a href="#xx992727xx" onclick="RateMsg(1580643, 992727,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx992727xx" title="vote this message a 1" onclick="RateMsg(1580643, 992727, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx992727xx" title="vote this message a 2" onclick="RateMsg(1580643, 992727, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx992727xx" title="vote this message a 3" onclick="RateMsg(1580643, 992727, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx992727xx" title="vote this message a 4" onclick="RateMsg(1580643, 992727, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx992727xx" title="vote this message a 5" onclick="RateMsg(1580643, 992727, 5,0)"><b>5</b></a> <a href="#xx992727xx" onclick="RateMsg(1580643, 992727,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd HdUnSel" id="F993031_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="34"><a name="xx993031xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="993031" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=993031#xx993031xx">Re: Unfortunately, Above sample is not optimized.</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">0:19 11 Dec '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F993031_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 34px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">yes unicon..<br>practically,
if u wish to applied this to production code. u may need to rewrite
those function to cater for its header and trailer separately.. =) then
all the body u can transfer with 128bit registers... <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=993031&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=993031&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=992727" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=993031" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=993031&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF993031" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(191662,993031,false,"","","");
											</script>Rate this message: <a href="#xx993031xx" onclick="RateMsg(191662, 993031,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx993031xx" title="vote this message a 1" onclick="RateMsg(191662, 993031, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx993031xx" title="vote this message a 2" onclick="RateMsg(191662, 993031, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx993031xx" title="vote this message a 3" onclick="RateMsg(191662, 993031, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx993031xx" title="vote this message a 4" onclick="RateMsg(191662, 993031, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx993031xx" title="vote this message a 5" onclick="RateMsg(191662, 993031, 5,0)"><b>5</b></a> <a href="#xx993031xx" onclick="RateMsg(191662, 993031,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd Rt HdUnSel" id="F942413_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx942413xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="942413" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=942413#xx942413xx">Block copy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=303828">Isostar</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">10:21 7 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F942413_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">You can optimize it more by using all MMX registers for the data transfer and also use non-temporal moves to bypass the cache.<br>See this link:<br><a href="http://www.joryanick.com/memcpy.htm">http://www.joryanick.com/memcpy.htm</a>[<a href="http://www.joryanick.com/memcpy.htm" target="_blank" title="The adventures of memcpy">^</a>]<br><br>SGI had a really good article about memcpy that i can't find anymore...<br> <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=942413&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=942413&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=942413" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=942413" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=942413&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF942413" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(303828,942413,false,"","","");
											</script>Rate this message: <a href="#xx942413xx" onclick="RateMsg(303828, 942413,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx942413xx" title="vote this message a 1" onclick="RateMsg(303828, 942413, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx942413xx" title="vote this message a 2" onclick="RateMsg(303828, 942413, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx942413xx" title="vote this message a 3" onclick="RateMsg(303828, 942413, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx942413xx" title="vote this message a 4" onclick="RateMsg(303828, 942413, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx942413xx" title="vote this message a 5" onclick="RateMsg(303828, 942413, 5,0)"><b>5</b></a> <a href="#xx942413xx" onclick="RateMsg(303828, 942413,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F942551_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="34"><a name="xx942551xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="942551" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=942551#xx942551xx">just same... Re: Block copy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">12:43 7 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F942551_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 34px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">interesting site! =) thanks for sharing!<br>anyway, i have cut and paste one of their code to try out.<br>here's the result of profiling...<br><br>MMXMemoryCopy is using 64bits register (mm0.. mm7)<br>DataTransferOptimised is using 128bits register (xmm0.. xmm7)<br><br><br><br>Profile: Function timing, sorted by time<br>Date:    Fri Oct 08 00:40:16 2004<br><br><br>Program Statistics<br>------------------<br>    Command line at 2004 Oct 08 00:40: "E:\j2\net\code project\InLocal\Fast Data Transfer\Release\Fast Data Transfer" <br>    Total time: 3099.147 millisecond<br>    Time outside of functions: 14.947 millisecond<br>    Call depth: 2<br>    Total functions: 4<br>    Total hits: 61<br>    Function coverage: 100.0%<br>    Overhead Calculated 24<br>    Overhead Average 24<br><br>Module Statistics for fast data transfer.exe<br>--------------------------------------------<br>    Time in module: 3084.200 millisecond<br>    Percent of time in module: 100.0%<br>    Functions in module: 4<br>    Hits in module: 61<br>    Module function coverage: 100.0%<br><br>        Func          Func+Child           Hit<br>        Time   %         Time      %      Count  Function<br>---------------------------------------------------------<br>    2270.111  73.6     3084.200 100.0        1 _main (data)<br>     277.546   9.0      277.546   9.0       20 DataTransferTypical(int *,int *,unsigned long) (data)<br>     269.881   8.8      269.881   8.8       20 MMXMemoryCopy(void *,void *,unsigned long) (data)<br>     266.663   8.6      266.663   8.6       20 DataTransferOptimised(int *,int *,unsigned long) (data)<br> <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=942551&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=942551&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=942413" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=942551" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=942551&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF942551" style="white-space: nowrap;">2.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(191662,942551,false,"","","");
											</script>Rate this message: <a href="#xx942551xx" onclick="RateMsg(191662, 942551,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx942551xx" title="vote this message a 1" onclick="RateMsg(191662, 942551, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx942551xx" title="vote this message a 2" onclick="RateMsg(191662, 942551, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx942551xx" title="vote this message a 3" onclick="RateMsg(191662, 942551, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx942551xx" title="vote this message a 4" onclick="RateMsg(191662, 942551, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx942551xx" title="vote this message a 5" onclick="RateMsg(191662, 942551, 5,0)"><b>5</b></a> <a href="#xx942551xx" onclick="RateMsg(191662, 942551,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote Rt HdUnSel" id="F940267_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx940267xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940267" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940267#xx940267xx">Optimizing some more</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=336006">msd</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">5:14 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940267_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Nice
to see that some people are still coding asm now and then. I've
optimized the code some more, removing a jump in the process and
simplified the offset calculation.<br><br>int DataTransferOptimised(void* piDst, void* piSrc, unsigned long SizeInBytes)<br>{<br>	 _asm<br>	 {<br>			  // remember for cleanup<br>			  pusha;<br>			  // init counter to SizeInBytes<br>			  mov  ecx,SizeInBytes;<br>			  // get destination pointer<br>			  mov  edi,piDst;<br>			  // get source pointer<br>			  mov  esi,piSrc;<br>			  xor  ebx,ebx  <br>			  // check if counter is 0, yes end loop.<br>			  or  ecx,ecx<br>			  jz  end;<br>		body:<br>			  // copy source's content to 128 bits registers<br>			  movdqa xmm1,[esi+ebx];<br>			  // copy 128 bits registers to destination<br>			  movdqa [edi+ebx],xmm1;<br>			  add  ebx,16 // next offset<br><br>			  // we've done "1 packed == 4 * sizeof(int)" already.<br>			  sub  ecx,16<br>			  jnz  body;<br>		end:<br>			  // cleanup<br>			  popa;<br>	 }<br>     return 0;<br>} <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940267&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940267&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=940267" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940267" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940267&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940267" style="white-space: nowrap;">1.20/5 (2 votes) <script type="text/javascript">
												MsgVFrm(336006,940267,false,"","","");
											</script>Rate this message: <a href="#xx940267xx" onclick="RateMsg(336006, 940267,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940267xx" title="vote this message a 1" onclick="RateMsg(336006, 940267, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940267xx" title="vote this message a 2" onclick="RateMsg(336006, 940267, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940267xx" title="vote this message a 3" onclick="RateMsg(336006, 940267, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940267xx" title="vote this message a 4" onclick="RateMsg(336006, 940267, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940267xx" title="vote this message a 5" onclick="RateMsg(336006, 940267, 5,0)"><b>5</b></a> <a href="#xx940267xx" onclick="RateMsg(336006, 940267,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F940366_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="34"><a name="xx940366xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940366" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940366#xx940366xx">Re: Optimizing some more</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">7:15 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940366_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 34px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2"><img src="Fast_Data_Transfer.aspx_files/smiley_wink.gif" alt="Wink" align="top"><br>nice try.. u also can try this:<br><br>add esi,16<br>add edi,16<br><br>hehe...<br> <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940366&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940366&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=940267" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940366" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940366&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940366" style="white-space: nowrap;">1.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(191662,940366,false,"","","");
											</script>Rate this message: <a href="#xx940366xx" onclick="RateMsg(191662, 940366,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940366xx" title="vote this message a 1" onclick="RateMsg(191662, 940366, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940366xx" title="vote this message a 2" onclick="RateMsg(191662, 940366, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940366xx" title="vote this message a 3" onclick="RateMsg(191662, 940366, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940366xx" title="vote this message a 4" onclick="RateMsg(191662, 940366, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940366xx" title="vote this message a 5" onclick="RateMsg(191662, 940366, 5,0)"><b>5</b></a> <a href="#xx940366xx" onclick="RateMsg(191662, 940366,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F940374_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="52"><a name="xx940374xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940374" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940374#xx940374xx">Re: Optimizing some more</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=336006">msd</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">7:30 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940374_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 52px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Yeah tought about that, but not sure that is faster then the esi+ebx <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940374&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940374&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=940267" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940374" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940374&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940374" style="white-space: nowrap;">1.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(336006,940374,false,"","","");
											</script>Rate this message: <a href="#xx940374xx" onclick="RateMsg(336006, 940374,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940374xx" title="vote this message a 1" onclick="RateMsg(336006, 940374, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940374xx" title="vote this message a 2" onclick="RateMsg(336006, 940374, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940374xx" title="vote this message a 3" onclick="RateMsg(336006, 940374, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940374xx" title="vote this message a 4" onclick="RateMsg(336006, 940374, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940374xx" title="vote this message a 5" onclick="RateMsg(336006, 940374, 5,0)"><b>5</b></a> <a href="#xx940374xx" onclick="RateMsg(336006, 940374,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F940390_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="70"><a name="xx940390xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940390" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940390#xx940390xx">Re: Optimizing some more</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">7:43 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940390_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 70px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">should be.. esi+ebx doesn't have the absolute addr yet, addition is needed.<br>what do u think? if u not sure, i not sure, then i have to ask my friend who work in intel... haha..<img src="Fast_Data_Transfer.aspx_files/smiley_tongue.gif" alt="Poke tongue" align="top"><br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940390&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940390&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=940267" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940390" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940390&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940390" style="white-space: nowrap;">1.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(191662,940390,false,"","","");
											</script>Rate this message: <a href="#xx940390xx" onclick="RateMsg(191662, 940390,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940390xx" title="vote this message a 1" onclick="RateMsg(191662, 940390, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940390xx" title="vote this message a 2" onclick="RateMsg(191662, 940390, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940390xx" title="vote this message a 3" onclick="RateMsg(191662, 940390, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940390xx" title="vote this message a 4" onclick="RateMsg(191662, 940390, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940390xx" title="vote this message a 5" onclick="RateMsg(191662, 940390, 5,0)"><b>5</b></a> <a href="#xx940390xx" onclick="RateMsg(191662, 940390,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F940400_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="88"><a name="xx940400xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940400" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940400#xx940400xx">Re: Optimizing some more</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=336006">msd</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">7:59 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940400_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 88px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Well then this would be even faster. But I think it is interresting to know if using edi+ebx is slower or not.<br><br>int DataTransferOptimised(void* piDst, void* piSrc, unsigned long SizeInBytes)<br>{<br>	 _asm<br>	 {<br>			  // remember for cleanup<br>			  pusha;<br>		begin:<br>			  // init counter to SizeInBytes<br>			  mov  ecx,SizeInBytes;<br>			  // get destination pointer<br>			  mov  edi,piDst;<br>			  // get source pointer<br>			  mov  esi,piSrc;<br>                          mov  eax,16<br>		begina:<br>			  // check if counter is 0, yes end loop.<br>			  or  ecx,ecx<br>			  jz  end;<br>		body:<br>			  // copy source's content to 128 bits registers<br>			  movdqa xmm1,[esi];<br>   		          add  esi,eax // next offset<br>			  // copy 128 bits registers to destination<br>			  movdqa [edi],xmm1;<br>			  add  edi,eax<br>		bodya:<br>			  // we've done "1 packed == 4 * sizeof(int)" already.<br>			  sub  ecx,eax<br>			  jnz  body;<br>		end:<br>			  // cleanup<br>			  popa;<br>	 }<br><br> return 0;<br>} <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940400&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940400&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=940267" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940400" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940400&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940400" style="white-space: nowrap;">1.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(336006,940400,false,"","","");
											</script>Rate this message: <a href="#xx940400xx" onclick="RateMsg(336006, 940400,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940400xx" title="vote this message a 1" onclick="RateMsg(336006, 940400, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940400xx" title="vote this message a 2" onclick="RateMsg(336006, 940400, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940400xx" title="vote this message a 3" onclick="RateMsg(336006, 940400, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940400xx" title="vote this message a 4" onclick="RateMsg(336006, 940400, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940400xx" title="vote this message a 5" onclick="RateMsg(336006, 940400, 5,0)"><b>5</b></a> <a href="#xx940400xx" onclick="RateMsg(336006, 940400,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F940412_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="106"><a name="xx940412xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940412" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940412#xx940412xx">Re: Optimizing some more</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">8:12 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940412_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 106px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">ohya.. "add esi,eax" will faster than "add esi,16" (should be)<br>but how much clock cycle is needed for register to register and memory to register? may be same? <br>anyway, can we make this run faster than memcpy? please refer to below feedback.. <img src="Fast_Data_Transfer.aspx_files/smiley_smile.gif" alt="Smile" align="top"> why the SIMD is so sucks up? because of its lantecy? as been said, movdqa took 6 clock cycle to complete. Zzz.. <br>nice try my friend... =)<br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940412&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940412&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=940267" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940412" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940412&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940412" style="white-space: nowrap;">1.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(191662,940412,false,"","","");
											</script>Rate this message: <a href="#xx940412xx" onclick="RateMsg(191662, 940412,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940412xx" title="vote this message a 1" onclick="RateMsg(191662, 940412, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940412xx" title="vote this message a 2" onclick="RateMsg(191662, 940412, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940412xx" title="vote this message a 3" onclick="RateMsg(191662, 940412, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940412xx" title="vote this message a 4" onclick="RateMsg(191662, 940412, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940412xx" title="vote this message a 5" onclick="RateMsg(191662, 940412, 5,0)"><b>5</b></a> <a href="#xx940412xx" onclick="RateMsg(191662, 940412,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F940422_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="116"><a name="xx940422xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940422" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940422#xx940422xx">Re: Optimizing some more</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=336006">msd</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">8:31 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940422_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 116px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">From
register it's faster. because the opcode is much smaller. for add
edi,eax only one or two bytes are fetched. (have to look it up if it's
one or two bytes). The add edi,16 is atleast 5 bytes to fetch.<br><br>I didn't test if the smd is slower.. I will check it. Maybe it has a big opcode? <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940422&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940422&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=940267" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940422" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940422&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940422" style="white-space: nowrap;">1.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(336006,940422,false,"","","");
											</script>Rate this message: <a href="#xx940422xx" onclick="RateMsg(336006, 940422,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940422xx" title="vote this message a 1" onclick="RateMsg(336006, 940422, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940422xx" title="vote this message a 2" onclick="RateMsg(336006, 940422, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940422xx" title="vote this message a 3" onclick="RateMsg(336006, 940422, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940422xx" title="vote this message a 4" onclick="RateMsg(336006, 940422, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940422xx" title="vote this message a 5" onclick="RateMsg(336006, 940422, 5,0)"><b>5</b></a> <a href="#xx940422xx" onclick="RateMsg(336006, 940422,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote Rt HdUnSel" id="F939888_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx939888xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="939888" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=939888#xx939888xx">memcpy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=216">Simon Hughes</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">16:49 4 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F939888_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Instead
of using a for loop to copy data, try using memcpy and see what
performance that gives. I'd be interested to see the results. <img src="Fast_Data_Transfer.aspx_files/smiley_smile.gif" alt="Smile" align="top"> <br><br>Regards,<br>Simon Hughes<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=939888&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=939888&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939888" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=939888" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=939888&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF939888" style="white-space: nowrap;">1.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(216,939888,false,"","","");
											</script>Rate this message: <a href="#xx939888xx" onclick="RateMsg(216, 939888,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx939888xx" title="vote this message a 1" onclick="RateMsg(216, 939888, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx939888xx" title="vote this message a 2" onclick="RateMsg(216, 939888, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx939888xx" title="vote this message a 3" onclick="RateMsg(216, 939888, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx939888xx" title="vote this message a 4" onclick="RateMsg(216, 939888, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx939888xx" title="vote this message a 5" onclick="RateMsg(216, 939888, 5,0)"><b>5</b></a> <a href="#xx939888xx" onclick="RateMsg(216, 939888,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd HdUnSel" id="F940024_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="34"><a name="xx940024xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940024" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940024#xx940024xx">seen memcpy source code? =)   Re: memcpy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">21:51 4 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940024_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 34px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">have u try to debug into memcpy.asm?<br>i wonder how it does the copying...  =)  i dun think it is using xmm registers... <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940024&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940024&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939888" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940024" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940024&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940024" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(191662,940024,false,"","","");
											</script>Rate this message: <a href="#xx940024xx" onclick="RateMsg(191662, 940024,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940024xx" title="vote this message a 1" onclick="RateMsg(191662, 940024, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940024xx" title="vote this message a 2" onclick="RateMsg(191662, 940024, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940024xx" title="vote this message a 3" onclick="RateMsg(191662, 940024, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940024xx" title="vote this message a 4" onclick="RateMsg(191662, 940024, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940024xx" title="vote this message a 5" onclick="RateMsg(191662, 940024, 5,0)"><b>5</b></a> <a href="#xx940024xx" onclick="RateMsg(191662, 940024,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd HdUnSel" id="F940070_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="52"><a name="xx940070xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940070" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940070#xx940070xx">Re: seen memcpy source code? =)   Re: memcpy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=251441">Qhimm</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">23:39 4 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940070_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 52px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">If
I recall correctly, in debug builds memcpy is implemented as a loop
(though a bit more optimized than the one in the article). In release
builds with intrinsic functions enabled (/Oi switch), the memcpy call
is replaced by a few assembly instructions using 'rep stosd/b' to copy
data in 32-bit blocks (and then any trailing bytes). Note that the
actual copying is done internally by the CPU within the 'rep stosd/b'
instruction, and can thus be expected to be about as fast as you get on
the regular instruction set.<br><br>That having been said, I have not
benchmarked it against MMX or SSE. Since the real strength of MMX/SSE
is the SIMD features, faster memory access would merely be a secondary
bonus. Has anyone benchmarked against intrinsic memcpy, and learned
which method is faster for straight data transfer? <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940070&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940070&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939888" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940070" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940070&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940070" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(251441,940070,false,"","","");
											</script>Rate this message: <a href="#xx940070xx" onclick="RateMsg(251441, 940070,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940070xx" title="vote this message a 1" onclick="RateMsg(251441, 940070, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940070xx" title="vote this message a 2" onclick="RateMsg(251441, 940070, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940070xx" title="vote this message a 3" onclick="RateMsg(251441, 940070, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940070xx" title="vote this message a 4" onclick="RateMsg(251441, 940070, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940070xx" title="vote this message a 5" onclick="RateMsg(251441, 940070, 5,0)"><b>5</b></a> <a href="#xx940070xx" onclick="RateMsg(251441, 940070,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd HdUnSel" id="F940280_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="34"><a name="xx940280xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940280" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940280#xx940280xx">Re: memcpy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=135805">Martin Wittershagen</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">5:29 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940280_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 34px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Hi!<br>I just added the following few lines to the code:<br><br>  // initialize<br>  memset(piSrc, 1, dwDataSizeInBytes);<br>  memset(piDst, 0, dwDataSizeInBytes);<br><br>  dwTimeStart = clock();<br>  for(i = 0; i &lt; ITERATION; i++)<br>    memcpy(piDst, piSrc, dwDataSizeInBytes);<br>  dwTimeEnd = clock();<br>
printf("== Simple memcpy of %d * %d times of %d bytes data ==\nTime
Elapsed = %d msec\n\n", ITERATION, DATA_SIZE, sizeof(int), dwTimeEnd -
dwTimeStart);<br><br><br>Compiled under VS.NET 2003 on a Mobile Pentium 4, 2.66 GHz.<br><br>Here are my results (ran both versions 3 times each):<br><br><br>***** DEBUG - VERSION *****<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 141 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 62 msec<br><br>== Simple memcpy of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 62 msec<br><br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 140 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 63 msec<br><br>== Simple memcpy of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 63 msec<br><br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 125 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 78 msec<br><br>== Simple memcpy of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 79 msec<br><br>***************************<br><br><br>***** RELEASE - VERSION *****<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 78 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 94 msec<br><br>== Simple memcpy of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 78 msec<br><br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 78 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 62 msec<br><br>== Simple memcpy of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 78 msec<br><br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 62 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 78 msec<br><br>== Simple memcpy of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 62 msec<br><br>*****************************<br><br><br>Interesting how the for-loop (Typical Transfer) is optimized in release-version by the VC7.1 compiler.<br>Also interesting the poor results of the "optimized" code compared to a simple memcpy...<br><img src="Fast_Data_Transfer.aspx_files/smiley_wink.gif" alt="Wink" align="top"><br><br>Regards,<br>Martin<br> <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940280&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940280&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939888" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940280" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940280&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940280" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(135805,940280,false,"","","");
											</script>Rate this message: <a href="#xx940280xx" onclick="RateMsg(135805, 940280,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940280xx" title="vote this message a 1" onclick="RateMsg(135805, 940280, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940280xx" title="vote this message a 2" onclick="RateMsg(135805, 940280, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940280xx" title="vote this message a 3" onclick="RateMsg(135805, 940280, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940280xx" title="vote this message a 4" onclick="RateMsg(135805, 940280, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940280xx" title="vote this message a 5" onclick="RateMsg(135805, 940280, 5,0)"><b>5</b></a> <a href="#xx940280xx" onclick="RateMsg(135805, 940280,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd HdUnSel" id="F940379_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="52"><a name="xx940379xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940379" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940379#xx940379xx">Re: memcpy</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">7:37 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940379_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 52px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">at least we know microsoft's engineers are not overpaid. they did their job! <img src="Fast_Data_Transfer.aspx_files/smiley_cool.gif" alt="Cool" align="top"><br>because
recently i read some article saying intel compiler is better than
msvc++, they claim that it will optimise better than msvc++. izzit
because of they are chip maker?<br><br>btw, could u get the source code of memcpy in ver7.1?<br>and i did check, the movdqa instruction took 6 cycle to complete. a bit latency here.<br><br>anyway, thanks for trying!<br>learning is fun.. let me see whether i can get better example to demonstrate the SSE's stuff.. <img src="Fast_Data_Transfer.aspx_files/smiley_wink.gif" alt="Wink" align="top"> there are lots more new instruction introduced by intel. most of them are dealing with longer register like xmm. <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940379&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940379&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939888" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940379" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940379&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940379" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(191662,940379,false,"","","");
											</script>Rate this message: <a href="#xx940379xx" onclick="RateMsg(191662, 940379,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940379xx" title="vote this message a 1" onclick="RateMsg(191662, 940379, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940379xx" title="vote this message a 2" onclick="RateMsg(191662, 940379, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940379xx" title="vote this message a 3" onclick="RateMsg(191662, 940379, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940379xx" title="vote this message a 4" onclick="RateMsg(191662, 940379, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940379xx" title="vote this message a 5" onclick="RateMsg(191662, 940379, 5,0)"><b>5</b></a> <a href="#xx940379xx" onclick="RateMsg(191662, 940379,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgRtDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd Rt HdUnSel" id="F939272_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="16"><a name="xx939272xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="939272" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=939272#xx939272xx">After 3-4 runs..no optimization???</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=21074">Balkrishna Talele</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">0:54 4 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F939272_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 16px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Hello,<br>      if I press ReRun 4 times Then the result after 4 run is this<br><br>----------------------------------------------------------------------------<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 140 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 141 msec<br><br>Rerun? (y/n)<br>--------------------------------------------------------------------------   <br>So where is the optimization...<br><br>---------------COMPLETE TEST-----------------------------------------<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 156 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 125 msec<br><br>Rerun? (y/n) y<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 141 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 125 msec<br><br>Rerun? (y/n) y<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 156 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 140 msec<br><br>Rerun? (y/n) y<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 140 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 140 msec<br><br>Rerun? (y/n) y<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 141 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 141 msec<br><br>Rerun? (y/n) y<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 141 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 125 msec<br><br>Rerun? (y/n) y<br><br>== Typical Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 140 msec<br><br>== Optimised Transfer of 10 * 1048576 times of 4 bytes data ==<br>Time Elapsed = 141 msec<br><br>Rerun? (y/n)<br><br>------------------ENDS HERE-----------------------------------------<br><br>cheers<br>Balkrishna Talele <br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=939272&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=939272&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939272" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=939272" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=939272&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF939272" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(21074,939272,false,"","","");
											</script>Rate this message: <a href="#xx939272xx" onclick="RateMsg(21074, 939272,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx939272xx" title="vote this message a 1" onclick="RateMsg(21074, 939272, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx939272xx" title="vote this message a 2" onclick="RateMsg(21074, 939272, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx939272xx" title="vote this message a 3" onclick="RateMsg(21074, 939272, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx939272xx" title="vote this message a 4" onclick="RateMsg(21074, 939272, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx939272xx" title="vote this message a 5" onclick="RateMsg(21074, 939272, 5,0)"><b>5</b></a> <a href="#xx939272xx" onclick="RateMsg(21074, 939272,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F939282_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="34"><a name="xx939282xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="939282" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=939282#xx939282xx">machine dependant  Re: After 3-4 runs..no optimization???</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">1:12 4 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F939282_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 34px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">what machine u are using? as stated in the article, it should be intel p3 or newer.<br>when u do debuging, please try to step through both function, u will notice the difference.<br><br>typical one it will copy one int per loop ( sizeof(int)=4bytes )<br>where optimised one it will copy four int per loop ( 4*sizeof(int)=16bytes ) <br>in your watch window, watch "piDst,101". then u will see how it is changing...  <img src="Fast_Data_Transfer.aspx_files/smiley_biggrin.gif" alt="Big Grin" align="top"><br><br>u
must bear in mind that this optimisation method is machine dependant,
which means that if your hardware not support, you won't able to see
the different. <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=939282&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=939282&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939272" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=939282" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=939282&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF939282" style="white-space: nowrap;">1.50/5 (2 votes) <script type="text/javascript">
												MsgVFrm(191662,939282,false,"","","");
											</script>Rate this message: <a href="#xx939282xx" onclick="RateMsg(191662, 939282,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx939282xx" title="vote this message a 1" onclick="RateMsg(191662, 939282, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx939282xx" title="vote this message a 2" onclick="RateMsg(191662, 939282, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx939282xx" title="vote this message a 3" onclick="RateMsg(191662, 939282, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx939282xx" title="vote this message a 4" onclick="RateMsg(191662, 939282, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx939282xx" title="vote this message a 5" onclick="RateMsg(191662, 939282, 5,0)"><b>5</b></a> <a href="#xx939282xx" onclick="RateMsg(191662, 939282,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd LoVote HdUnSel" id="F940072_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="52"><a name="xx940072xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940072" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940072#xx940072xx">Re: machine dependant  Re: After 3-4 runs..no optimization???</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=251441">Qhimm</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">23:45 4 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940072_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 52px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">Actually, if his hardware didn't support the SSE extensions, the test program would simply crash. <img src="Fast_Data_Transfer.aspx_files/smiley_wink.gif" alt="Wink" align="top"><br><br>The
decreasing difference between the two methods of copying could be
related to caching kicking in. Frequently used memory is cached in the
CPU, leading to _much_ faster access. However, since you're copying
quite a large amount of data, most computers wouldn't be able to cache
it all... so either you have a lot of CPU cache (like 2MB), or the
caching algorithm learned to cache one half of the data block. Or both.
Or something else.<img src="Fast_Data_Transfer.aspx_files/smiley_tongue.gif" alt="Poke tongue" align="top"><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940072&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940072&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939272" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940072" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940072&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940072" style="white-space: nowrap;">2.00/5 (1 vote) <script type="text/javascript">
												MsgVFrm(251441,940072,false,"","","");
											</script>Rate this message: <a href="#xx940072xx" onclick="RateMsg(251441, 940072,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940072xx" title="vote this message a 1" onclick="RateMsg(251441, 940072, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940072xx" title="vote this message a 2" onclick="RateMsg(251441, 940072, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940072xx" title="vote this message a 3" onclick="RateMsg(251441, 940072, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940072xx" title="vote this message a 4" onclick="RateMsg(251441, 940072, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940072xx" title="vote this message a 5" onclick="RateMsg(251441, 940072, 5,0)"><b>5</b></a> <a href="#xx940072xx" onclick="RateMsg(251441, 940072,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr class="Quick">
					<td class="Frm_MsgDivide"><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="1" width="1"></td>
				</tr>
<!-- Start Message head -->

				<tr class="MsgHd HdUnSel" id="F940397_h0">
					<td width="100%"><table class="QuickHd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" width="70"><a name="xx940397xx"></a><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"></td><td class="Frm_MsgSubject"><a id="DynMessLink" name="940397" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;select=940397#xx940397xx">Re: machine dependant  Re: After 3-4 runs..no optimization???</a></td><td style="width: 20px; white-space: nowrap;"><img src="Fast_Data_Transfer.aspx_files/member_sm.gif" title="member" alt="member" border="0" height="16"></td><td class="Frm_MsgAuthor"><a href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=191662">f2</a></td><td class="Frm_MsgDate" style="vertical-align: top; white-space: nowrap;">7:57 5 Oct '04 &nbsp;</td>
						</tr>
					</tbody></table></td>
				</tr><!-- End Message head -->

				<tr id="F940397_h1" style="display: none;">
					<td style="width: 100%;"><table class="QuickBd" border="0" cellpadding="0" cellspacing="0" width="100%">
						<tbody><tr>
							<td class="Frm_MsgIndent" style="width: 70px;"></td><td class="MsgBd BdSel"><table border="0" cellpadding="0" cellspacing="5" width="100%">
								<tbody><tr>
									<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
										<tbody><tr>
											<td colspan="2">ya. i should write in the way that <br>"if SSE_Exist then SSE_bla() else NORM_bla()"<br>lazy to add that haha.. <br><br>do u have any relate stuff like this? i am looking for more "optimisation method". both hardware and software optimised.<br>did u ever seen any optimisation method that will help branch prediction hit rate? <br><br>from,  <br>-= aLbert =-<br><br></td>
										</tr><tr style="vertical-align: middle;">
											<td class="Frm_MsgFt"><a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940397&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=r" title="Reply">Reply</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=114488&amp;select=940397&amp;floc=/KB/tips/Fast_Data_Transfer.aspx&amp;fa=e" title="Email">Email</a>·<a class="Frm_MHL" href="http://www.codeproject.com/KB/tips/Fast_Data_Transfer.aspx?fid=114488&amp;tid=939272" title="View Thread">View Thread</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Forums/View.aspx?fid=114488&amp;msg=940397" title="Get permanent link">PermaLink</a>·<a class="Frm_MHL" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=940397&amp;obtid=3&amp;bma=AddBookmark" title="Bookmark this post">Bookmark</a></td><td class="Frm_MsgFt" style="text-align: right;"><span id="MVF940397" style="white-space: nowrap;"><script type="text/javascript">
												MsgVFrm(191662,940397,false,"","","");
											</script>Rate this message: <a href="#xx940397xx" onclick="RateMsg(191662, 940397,1,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_down.gif" alt="vote 1" align="middle" border="0" height="14" width="14"></a> <a class="Frm_MHL" href="#xx940397xx" title="vote this message a 1" onclick="RateMsg(191662, 940397, 1,0)"><b>1</b></a> <a class="Frm_MHL" href="#xx940397xx" title="vote this message a 2" onclick="RateMsg(191662, 940397, 2,0)"><b>2</b></a> <a class="Frm_MHL" href="#xx940397xx" title="vote this message a 3" onclick="RateMsg(191662, 940397, 3,0)"><b>3</b></a> <a class="Frm_MHL" href="#xx940397xx" title="vote this message a 4" onclick="RateMsg(191662, 940397, 4,0)"><b>4</b></a> <a class="Frm_MHL" href="#xx940397xx" title="vote this message a 5" onclick="RateMsg(191662, 940397, 5,0)"><b>5</b></a> <a href="#xx940397xx" onclick="RateMsg(191662, 940397,5,0);"><img src="Fast_Data_Transfer.aspx_files/thumbs_up.gif" alt="vote 5" align="middle" border="0" height="14" width="14"></a> </span></td>
										</tr>
									</tbody></table></td>
								</tr>
							</tbody></table></td>
						</tr>
					</tbody></table></td>
				</tr><tr>
					<td><img src="Fast_Data_Transfer.aspx_files/t.gif" alt="" border="0" height="5" width="1"></td>
				</tr>
			</tbody></table></td>
		</tr><tr>
			<td><table cellpadding="2" cellspacing="0" width="100%">
				<tbody><tr class="Frm_Footer">
					<td>Last Visit: Friday, October 17, 2008 11:45 AM &nbsp; &nbsp; Last Update:Saturday, October 18, 2008 4:18 PM</td><td style="text-align: right; white-space: nowrap;"><b>1</b></td>
				</tr>
			</tbody></table></td>
		</tr>
	</tbody></table>
</div><p class="SmallText"><img src="Fast_Data_Transfer.aspx_files/msg_general.gif" alt="General" align="top" height="16" width="16"> General &nbsp;&nbsp; <img src="Fast_Data_Transfer.aspx_files/msg_news.gif" alt="News" align="top" height="16" width="16"> News &nbsp;&nbsp; <img src="Fast_Data_Transfer.aspx_files/msg_question.gif" alt="Question" align="top" height="16" width="16"> Question &nbsp;&nbsp; <img src="Fast_Data_Transfer.aspx_files/msg_answer.gif" alt="Answer" align="top" height="16" width="16"> Answer &nbsp;&nbsp; <img src="Fast_Data_Transfer.aspx_files/msg_joke.gif" alt="Joke" align="top" height="16" width="16"> Joke &nbsp;&nbsp; <img src="Fast_Data_Transfer.aspx_files/msg_rant.gif" alt="Rant" align="top" height="16" width="16"> Rant &nbsp;&nbsp; <img src="Fast_Data_Transfer.aspx_files/msg_admin.gif" alt="Admin" align="top" height="16" width="16"> Admin &nbsp;&nbsp; </p>
<!-- Forum End -->




	
	</div>
	<table width="100%">
	<tbody><tr valign="top">
		<td class="TinyText" align="left">
		    <a id="ctl00_PermaLink" href="http://www.codeproject.com/script/Articles/Article.aspx?aid=8440">PermaLink</a> | 
			<a id="ctl00_PrivacyLink" href="http://www.codeproject.com/info/privacy.aspx">Privacy</a> |
			<a id="ctl00_TermsOfUseLink" href="http://www.codeproject.com/info/TermsOfUse.aspx">Terms of Use</a>
			<br>Last Updated: 3 Oct 2004<br>
			Editor: <a id="ctl00_ArticleEditor" href="http://www.codeproject.com/script/Membership/Profiles.aspx?mid=28970">Smitha Vijayan</a><br>
		</td>
		<td class="TinyText" align="right" valign="top">
			Copyright 2004 by f2<br>Everything else
			Copyright © <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2008 <br>
			Web18 |
			<a id="ctl00_AdvertiseLink" href="http://www.codeproject.com/info/MediaKit.aspx">Advertise on the Code Project </a>
		</td>
	</tr>
	
	</tbody></table>
	
	<center>
		
	</center>
</td>
</tr>
<tr>
	<td colspan="2" align="center">
	



	</td>
</tr>
</tbody></table>

<br>
<script type="text/javascript" language="Javascript">//<![CDATA[
if (document.all) try {window.attachEvent("oncopy",copyCode);}catch(e){};
//]]></script>

<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/TogglePre.js"></script>
<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/menu132_com.js"></script>
<script type="text/javascript" language="Javascript" src="Fast_Data_Transfer.aspx_files/TopNavBar.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
new HVMenu(new menu_NavbarConfig());
//]]></script>


<div style="position: absolute; visibility: visible; z-index: 101; width: 386px; height: 22px; top: 119px; left: 620px;"><div class="NavBarMain" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 40px; height: 16px; padding-left: 5px; padding-top: 2px; left: 7px; top: 2px;">Help!</div><div class="NavBarMain" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 55px; height: 16px; padding-left: 5px; padding-top: 2px; left: 55px; top: 2px;">Articles</div><div class="NavBarMain" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 115px; height: 16px; padding-left: 5px; padding-top: 2px; left: 118px; top: 2px;">Message Boards</div><div class="NavBarMain" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 75px; height: 16px; padding-left: 5px; padding-top: 2px; left: 241px; top: 2px;">Job Board</div><div class="NavBarMain" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 55px; height: 16px; padding-left: 5px; padding-top: 2px; left: 324px; top: 2px;">Lounge</div></div><div class="NavBarCont" style="position: absolute; visibility: hidden; z-index: 102; width: 198px; height: 104px; top: 0pt; left: 0pt;"><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 183px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 5px;">What is 'The Code Project'?</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 183px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 24px;">General FAQ</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 183px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 43px;">Post a Question</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 183px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 62px;">Site Directory</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 183px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 81px;">About Us</div></div><div class="NavBarCont" style="position: absolute; visibility: hidden; z-index: 102; width: 158px; height: 161px; top: 0pt; left: 0pt;"><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 5px;">Latest</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 24px;">Search</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 43px;">Most Popular</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 62px;">Beginner Articles</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 81px;">Topic List</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 100px;">Submit an Article</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 119px;">Update an Article</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 143px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 138px;">Article Competition</div></div><div class="NavBarCont" style="position: absolute; visibility: hidden; z-index: 102; width: 183px; height: 389px; top: 0pt; left: 0pt;"><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 5px;">ASP.NET</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 24px;">ATL / WTL / STL</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 43px;">C++ / MFC</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 62px;">(Managed) C++/CLI</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 81px;">C#</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 100px;">COM</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 119px;">Hardware</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 138px;">LINQ and .NET 3.5</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 157px;">.NET Framework</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 176px;">OS / SysAdmin</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 195px;">Silverlight</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 214px;">SQL and Database</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 233px;">VB.NET</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 252px;">Web Development</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 271px;">WPF / WCF / WF</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 290px;">XML / XSL</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 309px;">General Discussions</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 328px;">Suggestions / Site Bugs</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 347px;">The Soapbox</div><div class="NavBarSub" style="overflow: hidden; position: absolute; visibility: inherit; cursor: pointer; width: 168px; height: 16px; padding-left: 5px; padding-top: 2px; left: 5px; top: 366px;">All Message Boards...</div></div></body></html>